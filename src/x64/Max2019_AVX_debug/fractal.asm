; Listing generated by Microsoft (R) Optimizing Compiler Version 19.16.27031.1 

include listing.inc

INCLUDELIB MSVCRT
INCLUDELIB OLDNAMES

PUBLIC	WinbaseIsolationAwarePrivateT_UnPgpgk
PUBLIC	IsolationAwarePrivateT_SqbjaYRiRY
PUBLIC	IsolationAwarePrivateT_SAbnPgpgk
PUBLIC	WinbaseIsolationAwarePrivateT_SpeRNgRQnPgpgk
PUBLIC	WinbaseIsolationAwarePrivateT_SpYRNahcpNYYRQ
PUBLIC	?__LINE__Var@?0???0Class_ID@@QEAA@KK@Z@4JA	; `Class_ID::Class_ID'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0???0AssetId@AssetManagement@MaxSDK@@QEAA@XZ@4JA ; `MaxSDK::AssetManagement::AssetId::AssetId'::`1'::__LINE__Var
EXTRN	GUID_NULL:BYTE
;	COMDAT IsolationAwarePrivateT_SqbjaYRiRY
_BSS	SEGMENT
IsolationAwarePrivateT_SqbjaYRiRY DD 01H DUP (?)
_BSS	ENDS
;	COMDAT IsolationAwarePrivateT_SAbnPgpgk
_BSS	SEGMENT
IsolationAwarePrivateT_SAbnPgpgk DD 01H DUP (?)
_BSS	ENDS
;	COMDAT WinbaseIsolationAwarePrivateT_SpeRNgRQnPgpgk
_BSS	SEGMENT
WinbaseIsolationAwarePrivateT_SpeRNgRQnPgpgk DD 01H DUP (?)
_BSS	ENDS
;	COMDAT WinbaseIsolationAwarePrivateT_SpYRNahcpNYYRQ
_BSS	SEGMENT
WinbaseIsolationAwarePrivateT_SpYRNahcpNYYRQ DD 01H DUP (?)
_BSS	ENDS
;	COMDAT ?__LINE__Var@?0???0AssetId@AssetManagement@MaxSDK@@QEAA@XZ@4JA
_DATA	SEGMENT
?__LINE__Var@?0???0AssetId@AssetManagement@MaxSDK@@QEAA@XZ@4JA DD 01dH ; `MaxSDK::AssetManagement::AssetId::AssetId'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0???0Class_ID@@QEAA@KK@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?0???0Class_ID@@QEAA@KK@Z@4JA DD 0a0H	; `Class_ID::Class_ID'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT WinbaseIsolationAwarePrivateT_UnPgpgk
_DATA	SEGMENT
WinbaseIsolationAwarePrivateT_UnPgpgk DQ ffffffffffffffffH
_DATA	ENDS
PUBLIC	??_H@YAXPEAX_K1P6APEAX0@Z@Z			; `vector constructor iterator'
PUBLIC	?__empty_global_delete@@YAXPEAX@Z		; __empty_global_delete
PUBLIC	?__empty_global_delete@@YAXPEAX_K@Z		; __empty_global_delete
PUBLIC	?fractal@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z ; Fractal::fractal
PUBLIC	?turbulence@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z ; Fractal::turbulence
PUBLIC	?fBm@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z	; Fractal::fBm
PUBLIC	?fBmTurb@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z ; Fractal::fBmTurb
PUBLIC	?heteroTerrain@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z ; Fractal::heteroTerrain
PUBLIC	?hybridMultiFractal@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z ; Fractal::hybridMultiFractal
PUBLIC	?ridgedMultiFractal@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z ; Fractal::ridgedMultiFractal
PUBLIC	?fractal@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z ; Fractal::fractal
PUBLIC	?turbulence@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z ; Fractal::turbulence
PUBLIC	?fBm@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z	; Fractal::fBm
PUBLIC	?fBmTurb@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z ; Fractal::fBmTurb
PUBLIC	?heteroTerrain@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z ; Fractal::heteroTerrain
PUBLIC	?hybridMultiFractal@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z ; Fractal::hybridMultiFractal
PUBLIC	?ridgedMultiFractal@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z ; Fractal::ridgedMultiFractal
PUBLIC	?fBm@Fractal@@SAMVPoint3@@MMM@Z			; Fractal::fBm
PUBLIC	?grain@Fractal@@SAMVPoint3@@MM@Z		; Fractal::grain
PUBLIC	__real@3d4ccccd
PUBLIC	__real@3f000000
PUBLIC	__real@3f50624dd2f1a9fc
PUBLIC	__real@3f800000
PUBLIC	__real@40000000
PUBLIC	__real@40800000
PUBLIC	__real@bf000000
PUBLIC	__real@bf800000
PUBLIC	__xmm@7fffffffffffffff7fffffffffffffff
PUBLIC	__xmm@80000000800000008000000080000000
EXTRN	__imp_??0Point3@@QEAA@MMM@Z:PROC
EXTRN	__imp_??0Point3@@QEAA@AEBV0@@Z:PROC
EXTRN	?smooth@@YAMMMM@Z:PROC				; smooth
EXTRN	?noise@Perlin@@SAMMMM@Z:PROC			; Perlin::noise
EXTRN	?noise@Noise@@SAMVPoint3@@AEAVNoiseParams@@@Z:PROC ; Noise::noise
EXTRN	?noise@Noise@@SAMVPoint3@@MAEAVNoiseParams@@@Z:PROC ; Noise::noise
EXTRN	floorf:PROC
EXTRN	powf:PROC
EXTRN	_fltused:DWORD
_BSS	SEGMENT
?kInvalidId@AssetManagement@MaxSDK@@3UAssetId@12@A DB 010H DUP (?) ; MaxSDK::AssetManagement::kInvalidId
_BSS	ENDS
;	COMDAT pdata
pdata	SEGMENT
$pdata$??_H@YAXPEAX_K1P6APEAX0@Z@Z DD imagerel $LN12
	DD	imagerel $LN12+72
	DD	imagerel $unwind$??_H@YAXPEAX_K1P6APEAX0@Z@Z
pdata	ENDS
;	COMDAT pdata
pdata	SEGMENT
$pdata$??D@YA?AVPoint3@@AEBV0@M@Z DD imagerel $LN4
	DD	imagerel $LN4+42
	DD	imagerel $unwind$??D@YA?AVPoint3@@AEBV0@M@Z
pdata	ENDS
;	COMDAT pdata
pdata	SEGMENT
$pdata$?fractal@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z DD imagerel $LN16
	DD	imagerel $LN16+59
	DD	imagerel $unwind$?fractal@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z
pdata	ENDS
;	COMDAT pdata
pdata	SEGMENT
$pdata$0$?fractal@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z DD imagerel $LN16+59
	DD	imagerel $LN16+81
	DD	imagerel $chain$0$?fractal@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z
pdata	ENDS
;	COMDAT pdata
pdata	SEGMENT
$pdata$1$?fractal@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z DD imagerel $LN16+81
	DD	imagerel $LN16+164
	DD	imagerel $chain$1$?fractal@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z
pdata	ENDS
;	COMDAT pdata
pdata	SEGMENT
$pdata$2$?fractal@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z DD imagerel $LN16+164
	DD	imagerel $LN16+177
	DD	imagerel $chain$2$?fractal@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z
pdata	ENDS
;	COMDAT pdata
pdata	SEGMENT
$pdata$3$?fractal@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z DD imagerel $LN16+177
	DD	imagerel $LN16+281
	DD	imagerel $chain$3$?fractal@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z
pdata	ENDS
;	COMDAT pdata
pdata	SEGMENT
$pdata$?turbulence@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z DD imagerel $LN25
	DD	imagerel $LN25+54
	DD	imagerel $unwind$?turbulence@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z
pdata	ENDS
;	COMDAT pdata
pdata	SEGMENT
$pdata$1$?turbulence@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z DD imagerel $LN25+54
	DD	imagerel $LN25+94
	DD	imagerel $chain$1$?turbulence@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z
pdata	ENDS
;	COMDAT pdata
pdata	SEGMENT
$pdata$2$?turbulence@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z DD imagerel $LN25+94
	DD	imagerel $LN25+193
	DD	imagerel $chain$2$?turbulence@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z
pdata	ENDS
;	COMDAT pdata
pdata	SEGMENT
$pdata$3$?turbulence@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z DD imagerel $LN25+193
	DD	imagerel $LN25+212
	DD	imagerel $chain$3$?turbulence@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z
pdata	ENDS
;	COMDAT pdata
pdata	SEGMENT
$pdata$4$?turbulence@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z DD imagerel $LN25+212
	DD	imagerel $LN25+323
	DD	imagerel $chain$4$?turbulence@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z
pdata	ENDS
;	COMDAT pdata
pdata	SEGMENT
$pdata$?fBm@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z DD imagerel $LN19
	DD	imagerel $LN19+326
	DD	imagerel $unwind$?fBm@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z
pdata	ENDS
;	COMDAT pdata
pdata	SEGMENT
$pdata$?fBmTurb@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z DD imagerel $LN28
	DD	imagerel $LN28+364
	DD	imagerel $unwind$?fBmTurb@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z
pdata	ENDS
;	COMDAT pdata
pdata	SEGMENT
$pdata$?heteroTerrain@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z DD imagerel $LN21
	DD	imagerel $LN21+386
	DD	imagerel $unwind$?heteroTerrain@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z
pdata	ENDS
;	COMDAT pdata
pdata	SEGMENT
$pdata$?hybridMultiFractal@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z DD imagerel $LN23
	DD	imagerel $LN23+451
	DD	imagerel $unwind$?hybridMultiFractal@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z
pdata	ENDS
;	COMDAT pdata
pdata	SEGMENT
$pdata$?ridgedMultiFractal@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z DD imagerel $LN27
	DD	imagerel $LN27+157
	DD	imagerel $unwind$?ridgedMultiFractal@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z
pdata	ENDS
;	COMDAT pdata
pdata	SEGMENT
$pdata$2$?ridgedMultiFractal@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z DD imagerel $LN27+157
	DD	imagerel $LN27+339
	DD	imagerel $chain$2$?ridgedMultiFractal@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z
pdata	ENDS
;	COMDAT pdata
pdata	SEGMENT
$pdata$3$?ridgedMultiFractal@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z DD imagerel $LN27+339
	DD	imagerel $LN27+388
	DD	imagerel $chain$3$?ridgedMultiFractal@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z
pdata	ENDS
;	COMDAT pdata
pdata	SEGMENT
$pdata$?fractal@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z DD imagerel $LN16
	DD	imagerel $LN16+65
	DD	imagerel $unwind$?fractal@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z
pdata	ENDS
;	COMDAT pdata
pdata	SEGMENT
$pdata$0$?fractal@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z DD imagerel $LN16+65
	DD	imagerel $LN16+91
	DD	imagerel $chain$0$?fractal@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z
pdata	ENDS
;	COMDAT pdata
pdata	SEGMENT
$pdata$1$?fractal@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z DD imagerel $LN16+91
	DD	imagerel $LN16+185
	DD	imagerel $chain$1$?fractal@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z
pdata	ENDS
;	COMDAT pdata
pdata	SEGMENT
$pdata$2$?fractal@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z DD imagerel $LN16+185
	DD	imagerel $LN16+198
	DD	imagerel $chain$2$?fractal@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z
pdata	ENDS
;	COMDAT pdata
pdata	SEGMENT
$pdata$3$?fractal@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z DD imagerel $LN16+198
	DD	imagerel $LN16+313
	DD	imagerel $chain$3$?fractal@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z
pdata	ENDS
;	COMDAT pdata
pdata	SEGMENT
$pdata$?turbulence@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z DD imagerel $LN25
	DD	imagerel $LN25+60
	DD	imagerel $unwind$?turbulence@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z
pdata	ENDS
;	COMDAT pdata
pdata	SEGMENT
$pdata$1$?turbulence@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z DD imagerel $LN25+60
	DD	imagerel $LN25+104
	DD	imagerel $chain$1$?turbulence@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z
pdata	ENDS
;	COMDAT pdata
pdata	SEGMENT
$pdata$2$?turbulence@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z DD imagerel $LN25+104
	DD	imagerel $LN25+214
	DD	imagerel $chain$2$?turbulence@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z
pdata	ENDS
;	COMDAT pdata
pdata	SEGMENT
$pdata$3$?turbulence@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z DD imagerel $LN25+214
	DD	imagerel $LN25+233
	DD	imagerel $chain$3$?turbulence@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z
pdata	ENDS
;	COMDAT pdata
pdata	SEGMENT
$pdata$4$?turbulence@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z DD imagerel $LN25+233
	DD	imagerel $LN25+355
	DD	imagerel $chain$4$?turbulence@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z
pdata	ENDS
;	COMDAT pdata
pdata	SEGMENT
$pdata$?fBm@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z DD imagerel $LN19
	DD	imagerel $LN19+363
	DD	imagerel $unwind$?fBm@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z
pdata	ENDS
;	COMDAT pdata
pdata	SEGMENT
$pdata$?fBmTurb@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z DD imagerel $LN28
	DD	imagerel $LN28+401
	DD	imagerel $unwind$?fBmTurb@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z
pdata	ENDS
;	COMDAT pdata
pdata	SEGMENT
$pdata$?heteroTerrain@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z DD imagerel $LN21
	DD	imagerel $LN21+426
	DD	imagerel $unwind$?heteroTerrain@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z
pdata	ENDS
;	COMDAT pdata
pdata	SEGMENT
$pdata$?hybridMultiFractal@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z DD imagerel $LN23
	DD	imagerel $LN23+490
	DD	imagerel $unwind$?hybridMultiFractal@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z
pdata	ENDS
;	COMDAT pdata
pdata	SEGMENT
$pdata$?ridgedMultiFractal@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z DD imagerel $LN27
	DD	imagerel $LN27+173
	DD	imagerel $unwind$?ridgedMultiFractal@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z
pdata	ENDS
;	COMDAT pdata
pdata	SEGMENT
$pdata$2$?ridgedMultiFractal@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z DD imagerel $LN27+173
	DD	imagerel $LN27+369
	DD	imagerel $chain$2$?ridgedMultiFractal@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z
pdata	ENDS
;	COMDAT pdata
pdata	SEGMENT
$pdata$3$?ridgedMultiFractal@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z DD imagerel $LN27+369
	DD	imagerel $LN27+424
	DD	imagerel $chain$3$?ridgedMultiFractal@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z
pdata	ENDS
;	COMDAT pdata
pdata	SEGMENT
$pdata$?fBm@Fractal@@SAMVPoint3@@MMM@Z DD imagerel $LN21
	DD	imagerel $LN21+38
	DD	imagerel $unwind$?fBm@Fractal@@SAMVPoint3@@MMM@Z
pdata	ENDS
;	COMDAT pdata
pdata	SEGMENT
$pdata$2$?fBm@Fractal@@SAMVPoint3@@MMM@Z DD imagerel $LN21+38
	DD	imagerel $LN21+103
	DD	imagerel $chain$2$?fBm@Fractal@@SAMVPoint3@@MMM@Z
pdata	ENDS
;	COMDAT pdata
pdata	SEGMENT
$pdata$3$?fBm@Fractal@@SAMVPoint3@@MMM@Z DD imagerel $LN21+103
	DD	imagerel $LN21+187
	DD	imagerel $chain$3$?fBm@Fractal@@SAMVPoint3@@MMM@Z
pdata	ENDS
;	COMDAT pdata
pdata	SEGMENT
$pdata$4$?fBm@Fractal@@SAMVPoint3@@MMM@Z DD imagerel $LN21+187
	DD	imagerel $LN21+226
	DD	imagerel $chain$4$?fBm@Fractal@@SAMVPoint3@@MMM@Z
pdata	ENDS
;	COMDAT pdata
pdata	SEGMENT
$pdata$5$?fBm@Fractal@@SAMVPoint3@@MMM@Z DD imagerel $LN21+226
	DD	imagerel $LN21+303
	DD	imagerel $chain$5$?fBm@Fractal@@SAMVPoint3@@MMM@Z
pdata	ENDS
;	COMDAT pdata
pdata	SEGMENT
$pdata$?grain@Fractal@@SAMVPoint3@@MM@Z DD imagerel $LN24
	DD	imagerel $LN24+426
	DD	imagerel $unwind$?grain@Fractal@@SAMVPoint3@@MM@Z
pdata	ENDS
CRT$XCU	SEGMENT
?kInvalidId$initializer$@AssetManagement@MaxSDK@@3P6AXXZEA DQ FLAT:??__EkInvalidId@AssetManagement@MaxSDK@@YAXXZ ; MaxSDK::AssetManagement::kInvalidId$initializer$
CRT$XCU	ENDS
;	COMDAT __xmm@80000000800000008000000080000000
CONST	SEGMENT
__xmm@80000000800000008000000080000000 DB 00H, 00H, 00H, 080H, 00H, 00H, 00H
	DB	080H, 00H, 00H, 00H, 080H, 00H, 00H, 00H, 080H
CONST	ENDS
;	COMDAT __xmm@7fffffffffffffff7fffffffffffffff
CONST	SEGMENT
__xmm@7fffffffffffffff7fffffffffffffff DB 0ffH, 0ffH, 0ffH, 0ffH, 0ffH, 0ffH
	DB	0ffH, 07fH, 0ffH, 0ffH, 0ffH, 0ffH, 0ffH, 0ffH, 0ffH, 07fH
CONST	ENDS
;	COMDAT __real@bf800000
CONST	SEGMENT
__real@bf800000 DD 0bf800000r			; -1
CONST	ENDS
;	COMDAT __real@bf000000
CONST	SEGMENT
__real@bf000000 DD 0bf000000r			; -0.5
CONST	ENDS
;	COMDAT __real@40800000
CONST	SEGMENT
__real@40800000 DD 040800000r			; 4
CONST	ENDS
;	COMDAT __real@40000000
CONST	SEGMENT
__real@40000000 DD 040000000r			; 2
CONST	ENDS
;	COMDAT __real@3f800000
CONST	SEGMENT
__real@3f800000 DD 03f800000r			; 1
CONST	ENDS
;	COMDAT __real@3f50624dd2f1a9fc
CONST	SEGMENT
__real@3f50624dd2f1a9fc DQ 03f50624dd2f1a9fcr	; 0.001
CONST	ENDS
;	COMDAT __real@3f000000
CONST	SEGMENT
__real@3f000000 DD 03f000000r			; 0.5
CONST	ENDS
;	COMDAT __real@3d4ccccd
CONST	SEGMENT
__real@3d4ccccd DD 03d4ccccdr			; 0.05
CONST	ENDS
_DATA	SEGMENT
?kTriObjNormalXTCID@@3VClass_ID@@B DD 0730a33d7H	; kTriObjNormalXTCID
	DD	027246c55H
_DATA	ENDS
;	COMDAT xdata
xdata	SEGMENT
$unwind$?grain@Fractal@@SAMVPoint3@@MM@Z DD 0176a01H
	DD	03e86aH
	DD	04d85fH
	DD	05c854H
	DD	06b83dH
	DD	07a82fH
	DD	08982aH
	DD	098825H
	DD	0a7820H
	DD	0b6818H
	DD	01a340fH
	DD	018010fH
	DD	07008H
xdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$chain$5$?fBm@Fractal@@SAMVPoint3@@MMM@Z DD 021H
	DD	imagerel $LN21
	DD	imagerel $LN21+38
	DD	imagerel $unwind$?fBm@Fractal@@SAMVPoint3@@MMM@Z
xdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$chain$4$?fBm@Fractal@@SAMVPoint3@@MMM@Z DD 021H
	DD	imagerel $LN21+38
	DD	imagerel $LN21+103
	DD	imagerel $chain$2$?fBm@Fractal@@SAMVPoint3@@MMM@Z
xdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$chain$3$?fBm@Fractal@@SAMVPoint3@@MMM@Z DD 020821H
	DD	0127408H
	DD	imagerel $LN21+38
	DD	imagerel $LN21+103
	DD	imagerel $chain$2$?fBm@Fractal@@SAMVPoint3@@MMM@Z
xdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$chain$2$?fBm@Fractal@@SAMVPoint3@@MMM@Z DD 061e21H
	DD	02c81eH
	DD	03a818H
	DD	049806H
	DD	imagerel $LN21
	DD	imagerel $LN21+38
	DD	imagerel $unwind$?fBm@Fractal@@SAMVPoint3@@MMM@Z
xdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$unwind$?fBm@Fractal@@SAMVPoint3@@MMM@Z DD 082601H
	DD	058826H
	DD	067818H
	DD	07680fH
	DD	03002f209H
xdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$chain$3$?ridgedMultiFractal@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z DD 021H
	DD	imagerel $LN27
	DD	imagerel $LN27+173
	DD	imagerel $unwind$?ridgedMultiFractal@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z
xdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$chain$2$?ridgedMultiFractal@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z DD 061521H
	DD	03d815H
	DD	04c80fH
	DD	0a6809H
	DD	imagerel $LN27
	DD	imagerel $LN27+173
	DD	imagerel $unwind$?ridgedMultiFractal@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z
xdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$unwind$?ridgedMultiFractal@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z DD 0114a01H
	DD	05b84aH
	DD	06a845H
	DD	07982eH
	DD	088826H
	DD	09781eH
	DD	0196413H
	DD	0183413H
	DD	0160113H
	DD	0700cH
xdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$unwind$?hybridMultiFractal@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z DD 0155401H
	DD	03c854H
	DD	04b84fH
	DD	05a838H
	DD	069833H
	DD	07882eH
	DD	087826H
	DD	09681eH
	DD	0176413H
	DD	0163413H
	DD	0140113H
	DD	0700cH
xdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$unwind$?heteroTerrain@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z DD 0104a01H
	DD	03a84aH
	DD	049845H
	DD	05882eH
	DD	067826H
	DD	07681eH
	DD	0136413H
	DD	0123413H
	DD	0700cf213H
xdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$unwind$?fBmTurb@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z DD 0155c01H
	DD	03c85cH
	DD	04b845H
	DD	05a840H
	DD	069833H
	DD	07882eH
	DD	087826H
	DD	09681eH
	DD	0176413H
	DD	0163413H
	DD	0140113H
	DD	0700cH
xdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$unwind$?fBm@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z DD 0135701H
	DD	03c857H
	DD	04b840H
	DD	059833H
	DD	06882eH
	DD	077826H
	DD	08681eH
	DD	0156413H
	DD	0143413H
	DD	0120113H
	DD	0700cH
xdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$chain$4$?turbulence@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z DD 021H
	DD	imagerel $LN25
	DD	imagerel $LN25+60
	DD	imagerel $unwind$?turbulence@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z
xdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$chain$3$?turbulence@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z DD 021H
	DD	imagerel $LN25+60
	DD	imagerel $LN25+104
	DD	imagerel $chain$1$?turbulence@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z
xdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$chain$2$?turbulence@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z DD 020621H
	DD	03d806H
	DD	imagerel $LN25+60
	DD	imagerel $LN25+104
	DD	imagerel $chain$1$?turbulence@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z
xdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$chain$1$?turbulence@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z DD 041721H
	DD	06a817H
	DD	079805H
	DD	imagerel $LN25
	DD	imagerel $LN25+60
	DD	imagerel $unwind$?turbulence@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z
xdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$unwind$?turbulence@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z DD 0f3401H
	DD	04c834H
	DD	05b82fH
	DD	08882aH
	DD	09781cH
	DD	0a6814H
	DD	018340fH
	DD	016010fH
	DD	07008H
xdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$chain$3$?fractal@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z DD 021H
	DD	imagerel $LN16
	DD	imagerel $LN16+65
	DD	imagerel $unwind$?fractal@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z
xdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$chain$2$?fractal@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z DD 021H
	DD	imagerel $LN16+65
	DD	imagerel $LN16+91
	DD	imagerel $chain$0$?fractal@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z
xdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$chain$1$?fractal@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z DD 020521H
	DD	03c805H
	DD	imagerel $LN16+65
	DD	imagerel $LN16+91
	DD	imagerel $chain$0$?fractal@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z
xdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$chain$0$?fractal@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z DD 020521H
	DD	05a805H
	DD	imagerel $LN16
	DD	imagerel $LN16+65
	DD	imagerel $unwind$?fractal@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z
xdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$unwind$?fractal@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z DD 0f4101H
	DD	04b841H
	DD	06983cH
	DD	07882aH
	DD	08781cH
	DD	096814H
	DD	016340fH
	DD	014010fH
	DD	07008H
xdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$chain$3$?ridgedMultiFractal@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z DD 021H
	DD	imagerel $LN27
	DD	imagerel $LN27+157
	DD	imagerel $unwind$?ridgedMultiFractal@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z
xdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$chain$2$?ridgedMultiFractal@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z DD 061521H
	DD	03c815H
	DD	04b80fH
	DD	096809H
	DD	imagerel $LN27
	DD	imagerel $LN27+157
	DD	imagerel $unwind$?ridgedMultiFractal@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z
xdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$unwind$?ridgedMultiFractal@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z DD 0f3f01H
	DD	05a83fH
	DD	06983aH
	DD	078832H
	DD	08782aH
	DD	0176413H
	DD	0163413H
	DD	0140113H
	DD	0700cH
xdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$unwind$?hybridMultiFractal@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z DD 0134901H
	DD	03b849H
	DD	04a844H
	DD	05983fH
	DD	06883aH
	DD	077832H
	DD	08682aH
	DD	0156413H
	DD	0143413H
	DD	0120113H
	DD	0700cH
xdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$unwind$?heteroTerrain@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z DD 0e3f01H
	DD	03983fH
	DD	048839H
	DD	057830H
	DD	066827H
	DD	011640fH
	DD	010340fH
	DD	0700bd20fH
xdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$unwind$?fBmTurb@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z DD 0135101H
	DD	03b851H
	DD	04a84cH
	DD	059847H
	DD	06883aH
	DD	077832H
	DD	08682aH
	DD	0156413H
	DD	0143413H
	DD	0120113H
	DD	0700cH
xdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$unwind$?fBm@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z DD 0104c01H
	DD	03b84cH
	DD	04a847H
	DD	05883aH
	DD	067832H
	DD	07682aH
	DD	0136413H
	DD	0123413H
	DD	0700cf213H
xdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$chain$4$?turbulence@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z DD 021H
	DD	imagerel $LN25
	DD	imagerel $LN25+54
	DD	imagerel $unwind$?turbulence@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z
xdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$chain$3$?turbulence@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z DD 021H
	DD	imagerel $LN25+54
	DD	imagerel $LN25+94
	DD	imagerel $chain$1$?turbulence@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z
xdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$chain$2$?turbulence@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z DD 020521H
	DD	03c805H
	DD	imagerel $LN25+54
	DD	imagerel $LN25+94
	DD	imagerel $chain$1$?turbulence@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z
xdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$chain$1$?turbulence@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z DD 041721H
	DD	05a817H
	DD	069805H
	DD	imagerel $LN25
	DD	imagerel $LN25+54
	DD	imagerel $unwind$?turbulence@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z
xdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$unwind$?turbulence@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z DD 0d2e01H
	DD	04b82eH
	DD	078829H
	DD	08781cH
	DD	096814H
	DD	016340fH
	DD	014010fH
	DD	07008H
xdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$chain$3$?fractal@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z DD 021H
	DD	imagerel $LN16
	DD	imagerel $LN16+59
	DD	imagerel $unwind$?fractal@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z
xdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$chain$2$?fractal@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z DD 021H
	DD	imagerel $LN16+59
	DD	imagerel $LN16+81
	DD	imagerel $chain$0$?fractal@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z
xdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$chain$1$?fractal@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z DD 020521H
	DD	03b805H
	DD	imagerel $LN16+59
	DD	imagerel $LN16+81
	DD	imagerel $chain$0$?fractal@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z
xdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$chain$0$?fractal@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z DD 020521H
	DD	04a805H
	DD	imagerel $LN16
	DD	imagerel $LN16+59
	DD	imagerel $unwind$?fractal@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z
xdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$unwind$?fractal@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z DD 0d3b01H
	DD	05983bH
	DD	068829H
	DD	07781cH
	DD	086814H
	DD	014340fH
	DD	012010fH
	DD	07008H
xdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$unwind$??D@YA?AVPoint3@@AEBV0@M@Z DD 020601H
	DD	030023206H
xdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$unwind$??_H@YAXPEAX_K1P6APEAX0@Z@Z DD 081901H
	DD	086419H
	DD	075419H
	DD	063419H
	DD	070153219H
xdata	ENDS
; Function compile flags: /Ogtp
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath
; File g:\dropbox\github\berconmaps\src\fractal.cpp
;	COMDAT ?grain@Fractal@@SAMVPoint3@@MM@Z
_TEXT	SEGMENT
$T1 = 32
p$ = 208
amount$ = 216
freq$ = 224
?grain@Fractal@@SAMVPoint3@@MM@Z PROC			; Fractal::grain, COMDAT

; 303  : float Fractal::grain(Point3 p, float amount, float freq) {

$LN24:
	mov	rax, rsp
	mov	QWORD PTR [rax+8], rbx
	push	rdi
	sub	rsp, 192				; 000000c0H
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h

; 271  :    x *= f;   y *= f; z *= f;

	vmulss	xmm0, xmm2, DWORD PTR [rcx]
	vmovaps	XMMWORD PTR [rax-24], xmm6
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 306  : 		float g = (fBm(p, 4.f, 2.f, .5f)+1.f)*.5f;

	mov	rdx, rcx
	vmovaps	XMMWORD PTR [rax-40], xmm7
	vmovaps	XMMWORD PTR [rax-56], xmm8
	vmovaps	XMMWORD PTR [rax-72], xmm9
	vmovaps	XMMWORD PTR [rax-88], xmm10
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h

; 271  :    x *= f;   y *= f; z *= f;

	vmovss	DWORD PTR [rcx], xmm0
	vmulss	xmm0, xmm2, DWORD PTR [rcx+4]
	vmovaps	XMMWORD PTR [rax-104], xmm11
	vmovss	DWORD PTR [rcx+4], xmm0
	vmulss	xmm0, xmm2, DWORD PTR [rcx+8]
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 305  : 		p.z *= .05f;

	vmulss	xmm2, xmm0, DWORD PTR __real@3d4ccccd
	vmovaps	XMMWORD PTR [rax-120], xmm12
	vmovss	DWORD PTR [rcx+8], xmm2
	vmovaps	XMMWORD PTR [rsp+64], xmm13

; 306  : 		float g = (fBm(p, 4.f, 2.f, .5f)+1.f)*.5f;

	lea	rcx, QWORD PTR $T1[rsp]
	vmovaps	XMMWORD PTR [rsp+48], xmm14
	vmovaps	xmm14, xmm1
	call	QWORD PTR __imp_??0Point3@@QEAA@AEBV0@@Z

; 287  : 	float pwr = 1.0f;

	vmovss	xmm12, DWORD PTR __real@3f800000
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath

; 241  : 	return (_CSTD powf(_Xx, _Yx));

	vmovss	xmm1, DWORD PTR __real@bf000000
	vmovss	xmm0, DWORD PTR __real@40000000
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 306  : 		float g = (fBm(p, 4.f, 2.f, .5f)+1.f)*.5f;

	mov	rbx, rax

; 287  : 	float pwr = 1.0f;

	vmovaps	xmm7, xmm12
	vxorps	xmm13, xmm13, xmm13
	vxorps	xmm8, xmm8, xmm8
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath

; 241  : 	return (_CSTD powf(_Xx, _Yx));

	call	powf
	vmovaps	xmm6, xmm0
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h

; 271  :    x *= f;   y *= f; z *= f;

	mov	edi, 4
	npad	4
$LL8@grain:
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 291  : 		sum += Perlin::noise(p.x, p.y, p.z) * pwr;

	vmovss	xmm2, DWORD PTR [rbx+8]
	vmovss	xmm1, DWORD PTR [rbx+4]
	vmovss	xmm0, DWORD PTR [rbx]
	call	?noise@Perlin@@SAMMMM@Z			; Perlin::noise
	vmulss	xmm1, xmm0, xmm7
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h

; 271  :    x *= f;   y *= f; z *= f;

	vmovss	xmm0, DWORD PTR [rbx]
	vaddss	xmm9, xmm0, xmm0
	vmovss	xmm0, DWORD PTR [rbx+8]
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 291  : 		sum += Perlin::noise(p.x, p.y, p.z) * pwr;

	vaddss	xmm8, xmm8, xmm1
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h

; 271  :    x *= f;   y *= f; z *= f;

	vmovss	xmm1, DWORD PTR [rbx+4]
	vaddss	xmm11, xmm0, xmm0
	vaddss	xmm10, xmm1, xmm1
	vmovss	DWORD PTR [rbx+8], xmm11
	vmovss	DWORD PTR [rbx], xmm9
	vmovss	DWORD PTR [rbx+4], xmm10
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 292  : 		pwr *= pwHL;

	vmulss	xmm7, xmm7, xmm6
	sub	rdi, 1
	jne	SHORT $LL8@grain
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath

; 123  : 	return (_CSTD floorf(_Xx));

	vmovss	xmm6, DWORD PTR __real@40800000
	vmovaps	xmm0, xmm6
	call	floorf
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 296  : 	float rmd = levels - floor(levels);

	vsubss	xmm6, xmm6, xmm0

; 297  : 	if (rmd!=0.f) sum += rmd * Perlin::noise(p.x, p.y, p.z) * pwr;

	vucomiss xmm6, xmm13
	jp	SHORT $LN22@grain
	je	SHORT $LN9@grain
$LN22@grain:
	vmovaps	xmm2, xmm11
	vmovaps	xmm1, xmm10
	vmovaps	xmm0, xmm9
	call	?noise@Perlin@@SAMMMM@Z			; Perlin::noise
	vmulss	xmm1, xmm0, xmm6
	vmulss	xmm3, xmm1, xmm7
	vaddss	xmm8, xmm8, xmm3
$LN9@grain:

; 298  : 
; 299  : 	return (sum+1.f)*.5f;

	vaddss	xmm0, xmm8, xmm12
	vmulss	xmm0, xmm0, DWORD PTR __real@3f000000

; 306  : 		float g = (fBm(p, 4.f, 2.f, .5f)+1.f)*.5f;

	vaddss	xmm3, xmm0, xmm12
	vmulss	xmm0, xmm3, DWORD PTR __real@3f000000

; 307  : 		return smooth(g, (1.f-amount), 1.f);;

	vsubss	xmm1, xmm12, xmm14
	vmovaps	xmm2, xmm12

; 308  : }

	vmovaps	xmm14, XMMWORD PTR [rsp+48]
	lea	r11, QWORD PTR [rsp+192]
	mov	rbx, QWORD PTR [r11+16]
	vmovaps	xmm6, XMMWORD PTR [r11-16]
	vmovaps	xmm7, XMMWORD PTR [r11-32]
	vmovaps	xmm8, XMMWORD PTR [r11-48]
	vmovaps	xmm9, XMMWORD PTR [r11-64]
	vmovaps	xmm10, XMMWORD PTR [r11-80]
	vmovaps	xmm11, XMMWORD PTR [r11-96]
	vmovaps	xmm12, XMMWORD PTR [r11-112]
	vmovaps	xmm13, XMMWORD PTR [r11-128]
	mov	rsp, r11
	pop	rdi

; 307  : 		return smooth(g, (1.f-amount), 1.f);;

	jmp	?smooth@@YAMMMM@Z			; smooth
?grain@Fractal@@SAMVPoint3@@MM@Z ENDP			; Fractal::grain
_TEXT	ENDS
; Function compile flags: /Ogtp
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath
; File g:\dropbox\github\berconmaps\src\fractal.cpp
;	COMDAT ?fBm@Fractal@@SAMVPoint3@@MMM@Z
_TEXT	SEGMENT
p$ = 144
levels$ = 152
lacunarity$ = 160
H$ = 168
?fBm@Fractal@@SAMVPoint3@@MMM@Z PROC			; Fractal::fBm, COMDAT

; 285  : float Fractal::fBm(Point3 p, float levels, float lacunarity, float H) {

$LN21:
	push	rbx
	sub	rsp, 128				; 00000080H
	vmovaps	XMMWORD PTR [rsp+112], xmm6
	mov	rbx, rcx
	vmovaps	XMMWORD PTR [rsp+96], xmm7

; 286  : 	float sum = 0.0f;
; 287  : 	float pwr = 1.0f;

	vmovss	xmm7, DWORD PTR __real@3f800000
	vmovaps	XMMWORD PTR [rsp+80], xmm8
	vmovaps	XMMWORD PTR [rsp+64], xmm9
	vmovaps	xmm9, xmm1

; 288  : 	float pwHL = pow(lacunarity, -H);	

	vxorps	xmm1, xmm3, DWORD PTR __xmm@80000000800000008000000080000000
	vmovaps	XMMWORD PTR [rsp+48], xmm10
	vmovaps	XMMWORD PTR [rsp+32], xmm12
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath

; 241  : 	return (_CSTD powf(_Xx, _Yx));

	vmovaps	xmm0, xmm2
	vxorps	xmm12, xmm12, xmm12
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 285  : float Fractal::fBm(Point3 p, float levels, float lacunarity, float H) {

	vmovaps	xmm8, xmm2
	vxorps	xmm6, xmm6, xmm6
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath

; 241  : 	return (_CSTD powf(_Xx, _Yx));

	call	powf
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 290  : 	for (int i=0; i<(int)levels; i++) {

	vcvttss2si eax, xmm9
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath

; 241  : 	return (_CSTD powf(_Xx, _Yx));

	vmovaps	xmm10, xmm0
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 290  : 	for (int i=0; i<(int)levels; i++) {

	test	eax, eax
	jle	SHORT $LN18@fBm

; 286  : 	float sum = 0.0f;
; 287  : 	float pwr = 1.0f;

	mov	QWORD PTR [rsp+144], rdi
	mov	edi, eax
$LL4@fBm:

; 291  : 		sum += Perlin::noise(p.x, p.y, p.z) * pwr;

	vmovss	xmm2, DWORD PTR [rbx+8]
	vmovss	xmm1, DWORD PTR [rbx+4]
	vmovss	xmm0, DWORD PTR [rbx]
	call	?noise@Perlin@@SAMMMM@Z			; Perlin::noise
	vmulss	xmm1, xmm0, xmm7
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h

; 271  :    x *= f;   y *= f; z *= f;

	vmulss	xmm0, xmm8, DWORD PTR [rbx]
	vmovss	DWORD PTR [rbx], xmm0
	vmulss	xmm0, xmm8, DWORD PTR [rbx+8]
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 291  : 		sum += Perlin::noise(p.x, p.y, p.z) * pwr;

	vaddss	xmm6, xmm6, xmm1
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h

; 271  :    x *= f;   y *= f; z *= f;

	vmulss	xmm1, xmm8, DWORD PTR [rbx+4]
	vmovss	DWORD PTR [rbx+8], xmm0
	vmovss	DWORD PTR [rbx+4], xmm1
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 292  : 		pwr *= pwHL;

	vmulss	xmm7, xmm7, xmm10
	sub	rdi, 1
	jne	SHORT $LL4@fBm

; 290  : 	for (int i=0; i<(int)levels; i++) {

	mov	rdi, QWORD PTR [rsp+144]
$LN18@fBm:
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath

; 123  : 	return (_CSTD floorf(_Xx));

	vmovaps	xmm0, xmm9
	call	floorf
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 296  : 	float rmd = levels - floor(levels);

	vmovaps	xmm10, XMMWORD PTR [rsp+48]
	vsubss	xmm8, xmm9, xmm0
	vmovaps	xmm9, XMMWORD PTR [rsp+64]

; 297  : 	if (rmd!=0.f) sum += rmd * Perlin::noise(p.x, p.y, p.z) * pwr;

	vucomiss xmm8, xmm12
	vmovaps	xmm12, XMMWORD PTR [rsp+32]
	jp	SHORT $LN19@fBm
	je	SHORT $LN5@fBm
$LN19@fBm:
	vmovss	xmm2, DWORD PTR [rbx+8]
	vmovss	xmm1, DWORD PTR [rbx+4]
	vmovss	xmm0, DWORD PTR [rbx]
	call	?noise@Perlin@@SAMMMM@Z			; Perlin::noise
	vmulss	xmm1, xmm0, xmm8
	vmulss	xmm2, xmm1, xmm7
	vaddss	xmm6, xmm6, xmm2
$LN5@fBm:

; 298  : 
; 299  : 	return (sum+1.f)*.5f;

	vaddss	xmm0, xmm6, DWORD PTR __real@3f800000
	vmulss	xmm0, xmm0, DWORD PTR __real@3f000000

; 300  : }

	vmovaps	xmm6, XMMWORD PTR [rsp+112]
	vmovaps	xmm7, XMMWORD PTR [rsp+96]
	vmovaps	xmm8, XMMWORD PTR [rsp+80]
	add	rsp, 128				; 00000080H
	pop	rbx
	ret	0
?fBm@Fractal@@SAMVPoint3@@MMM@Z ENDP			; Fractal::fBm
_TEXT	ENDS
; Function compile flags: /Ogtp
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files (x86)\windows kits\10\include\10.0.17134.0\ucrt\corecrt_math.h
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files (x86)\windows kits\10\include\10.0.17134.0\ucrt\corecrt_math.h
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files (x86)\windows kits\10\include\10.0.17134.0\ucrt\corecrt_math.h
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files (x86)\windows kits\10\include\10.0.17134.0\ucrt\corecrt_math.h
; File g:\dropbox\github\berconmaps\src\fractal.cpp
;	COMDAT ?ridgedMultiFractal@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z
_TEXT	SEGMENT
$T1 = 32
$T2 = 32
p$ = 192
d$ = 200
np$ = 208
?ridgedMultiFractal@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z PROC ; Fractal::ridgedMultiFractal, COMDAT

; 258  : float Fractal::ridgedMultiFractal(Point3 p, float d, NoiseParams& np) {

$LN27:
	mov	rax, rsp
	mov	QWORD PTR [rax+8], rbx
	mov	QWORD PTR [rax+16], rsi
	push	rdi
	sub	rsp, 176				; 000000b0H

; 259  : 	float sum = 0.0f;
; 260  : 	float pwHL = pow(np.lacunarity, -np.H);	

	vmovss	xmm0, DWORD PTR [r8+40]
	vmovaps	XMMWORD PTR [rax-40], xmm7
	mov	rbx, r8
	vmovaps	XMMWORD PTR [rax-56], xmm8
	mov	rdi, rcx
	vmovaps	XMMWORD PTR [rax-72], xmm9
	vmovaps	xmm8, xmm1
	vxorps	xmm1, xmm0, DWORD PTR __xmm@80000000800000008000000080000000
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath

; 241  : 	return (_CSTD powf(_Xx, _Yx));

	vmovss	xmm0, DWORD PTR [r8+44]
	vmovaps	XMMWORD PTR [rax-88], xmm10
	vmovaps	XMMWORD PTR [rax-104], xmm11
	call	powf
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 265  : 	signal = np.offset - fabs(Noise::noise(p, d, np));

	mov	rdx, rdi
	lea	rcx, QWORD PTR $T2[rsp]
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath

; 241  : 	return (_CSTD powf(_Xx, _Yx));

	vmovaps	xmm10, xmm0
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 261  : 	float pwr = pwHL;

	vmovaps	xmm9, xmm0

; 265  : 	signal = np.offset - fabs(Noise::noise(p, d, np));

	call	QWORD PTR __imp_??0Point3@@QEAA@AEBV0@@Z
	mov	rcx, rax
	mov	r8, rbx
	vmovaps	xmm1, xmm8
	call	?noise@Noise@@SAMVPoint3@@MAEAVNoiseParams@@@Z ; Noise::noise
; File c:\program files (x86)\windows kits\10\include\10.0.17134.0\ucrt\corecrt_math.h

; 672  :             return (float)fabs(_X);

	vmovsd	xmm11, QWORD PTR __xmm@7fffffffffffffff7fffffffffffffff
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 269  : 	for(int i=1; i<(int)np.levels; i++ ) {

	vcvttss2si eax, DWORD PTR [rbx+36]
; File c:\program files (x86)\windows kits\10\include\10.0.17134.0\ucrt\corecrt_math.h

; 672  :             return (float)fabs(_X);

	vcvtss2sd xmm1, xmm0, xmm0
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 265  : 	signal = np.offset - fabs(Noise::noise(p, d, np));

	vmovss	xmm0, DWORD PTR [rbx+48]
; File c:\program files (x86)\windows kits\10\include\10.0.17134.0\ucrt\corecrt_math.h

; 672  :             return (float)fabs(_X);

	vandpd	xmm1, xmm1, xmm11
	vcvtsd2ss xmm2, xmm1, xmm1
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 265  : 	signal = np.offset - fabs(Noise::noise(p, d, np));

	vsubss	xmm1, xmm0, xmm2

; 269  : 	for(int i=1; i<(int)np.levels; i++ ) {

	mov	esi, 1
	vmulss	xmm3, xmm1, xmm1
	vmovaps	xmm7, xmm3
	cmp	eax, esi
	jle	$LN25@ridgedMult
	vmovaps	XMMWORD PTR [rsp+160], xmm6
	vmovaps	XMMWORD PTR [rsp+64], xmm12
	vmovaps	XMMWORD PTR [rsp+48], xmm13
	vmovss	xmm13, DWORD PTR __real@3f800000
	vxorps	xmm12, xmm12, xmm12
	npad	1
$LL4@ridgedMult:

; 270  : 		p *= np.lacunarity;

	vmovss	xmm2, DWORD PTR [rbx+44]
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h

; 271  :    x *= f;   y *= f; z *= f;

	vmulss	xmm0, xmm2, DWORD PTR [rdi]
	vmulss	xmm1, xmm2, DWORD PTR [rdi+4]
	vmovss	DWORD PTR [rdi], xmm0
	vmulss	xmm0, xmm2, DWORD PTR [rdi+8]
	vmovss	DWORD PTR [rdi+4], xmm1
	vmovss	DWORD PTR [rdi+8], xmm0
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 272  : 		float weight = signal * np.gain;

	vmulss	xmm0, xmm3, DWORD PTR [rbx+52]
	vmulss	xmm8, xmm8, DWORD PTR [rbx+44]

; 273  : 		if (weight>1.0) weight=1.0; else if (weight<0.0) weight=0.0;

	vmaxss	xmm1, xmm12, xmm0

; 274  : 		signal = np.offset - fabs(Noise::noise(p, d, np));

	mov	rdx, rdi
	lea	rcx, QWORD PTR $T1[rsp]
	vminss	xmm6, xmm13, xmm1
	call	QWORD PTR __imp_??0Point3@@QEAA@AEBV0@@Z
	mov	rcx, rax
	mov	r8, rbx
	vmovaps	xmm1, xmm8
	call	?noise@Noise@@SAMVPoint3@@MAEAVNoiseParams@@@Z ; Noise::noise
	vcvttss2si eax, DWORD PTR [rbx+36]
; File c:\program files (x86)\windows kits\10\include\10.0.17134.0\ucrt\corecrt_math.h

; 672  :             return (float)fabs(_X);

	vcvtss2sd xmm1, xmm0, xmm0
	vandpd	xmm1, xmm1, xmm11
	vcvtsd2ss xmm2, xmm1, xmm1
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 274  : 		signal = np.offset - fabs(Noise::noise(p, d, np));

	vmovss	xmm1, DWORD PTR [rbx+48]
	vsubss	xmm2, xmm1, xmm2

; 275  : 		signal *= signal;

	vmulss	xmm3, xmm2, xmm2

; 276  : 		signal *= weight;

	vmulss	xmm3, xmm3, xmm6

; 277  : 		sum += signal * pwr;

	vmulss	xmm1, xmm3, xmm9
	inc	esi
	vaddss	xmm7, xmm7, xmm1

; 278  : 		pwr *= pwHL;

	vmulss	xmm9, xmm9, xmm10
	cmp	esi, eax
	jl	$LL4@ridgedMult

; 279  : 	}
; 280  : 	
; 281  : 	return sum;

	vmovaps	xmm13, XMMWORD PTR [rsp+48]
	vmovaps	xmm12, XMMWORD PTR [rsp+64]
	vmovaps	xmm6, XMMWORD PTR [rsp+160]
$LN25@ridgedMult:

; 282  : }

	lea	r11, QWORD PTR [rsp+176]
	mov	rbx, QWORD PTR [r11+16]
	mov	rsi, QWORD PTR [r11+24]
	vmovaps	xmm8, XMMWORD PTR [r11-48]
	vmovaps	xmm9, XMMWORD PTR [r11-64]
	vmovaps	xmm10, XMMWORD PTR [r11-80]
	vmovaps	xmm11, XMMWORD PTR [r11-96]
	vmovaps	xmm0, xmm7
	vmovaps	xmm7, XMMWORD PTR [r11-32]
	mov	rsp, r11
	pop	rdi
	ret	0
?ridgedMultiFractal@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z ENDP ; Fractal::ridgedMultiFractal
_TEXT	ENDS
; Function compile flags: /Ogtp
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath
; File g:\dropbox\github\berconmaps\src\fractal.cpp
;	COMDAT ?hybridMultiFractal@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z
_TEXT	SEGMENT
$T1 = 32
$T2 = 32
$T3 = 32
p$ = 176
d$ = 184
np$ = 192
?hybridMultiFractal@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z PROC ; Fractal::hybridMultiFractal, COMDAT

; 230  : float Fractal::hybridMultiFractal(Point3 p, float d, NoiseParams& np) {

$LN23:
	mov	rax, rsp
	mov	QWORD PTR [rax+8], rbx
	mov	QWORD PTR [rax+16], rsi
	push	rdi
	sub	rsp, 160				; 000000a0H

; 231  : 	float sum = 0.0f;
; 232  : 	float pwHL = pow(np.lacunarity, -np.H);	

	vmovss	xmm0, DWORD PTR [r8+40]
	vmovaps	XMMWORD PTR [rax-24], xmm6
	mov	rbx, r8
	vmovaps	XMMWORD PTR [rax-40], xmm7
	mov	rdi, rcx
	vmovaps	XMMWORD PTR [rax-56], xmm8
	vmovaps	XMMWORD PTR [rax-72], xmm9
	vmovaps	XMMWORD PTR [rax-88], xmm10
	vmovaps	xmm6, xmm1
	vxorps	xmm1, xmm0, DWORD PTR __xmm@80000000800000008000000080000000
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath

; 241  : 	return (_CSTD powf(_Xx, _Yx));

	vmovss	xmm0, DWORD PTR [r8+44]
	vmovaps	XMMWORD PTR [rax-104], xmm11
	vmovaps	XMMWORD PTR [rax-120], xmm12
	call	powf
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 237  : 	sum = Noise::noise(p, d, np) + np.offset;

	mov	rdx, rdi
	lea	rcx, QWORD PTR $T3[rsp]
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath

; 241  : 	return (_CSTD powf(_Xx, _Yx));

	vmovaps	xmm11, xmm0
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 233  : 	float pwr = pwHL;

	vmovaps	xmm8, xmm0

; 237  : 	sum = Noise::noise(p, d, np) + np.offset;

	call	QWORD PTR __imp_??0Point3@@QEAA@AEBV0@@Z
	mov	rcx, rax
	mov	r8, rbx
	vmovaps	xmm1, xmm6
	call	?noise@Noise@@SAMVPoint3@@MAEAVNoiseParams@@@Z ; Noise::noise
	vaddss	xmm7, xmm0, DWORD PTR [rbx+48]

; 238  : 	weight = np.gain * sum;
; 239  : 	p *= np.lacunarity;

	vmovss	xmm1, DWORD PTR [rbx+44]
	vmulss	xmm2, xmm7, DWORD PTR [rbx+52]
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h

; 271  :    x *= f;   y *= f; z *= f;

	vmulss	xmm0, xmm1, DWORD PTR [rdi]
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 242  : 	for (int i=1; (weight>0.001) && (i<(int)np.levels); i++) {

	vmovsd	xmm12, QWORD PTR __real@3f50624dd2f1a9fc
	vmovss	xmm10, DWORD PTR __real@3f800000
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h

; 271  :    x *= f;   y *= f; z *= f;

	vmovss	DWORD PTR [rdi], xmm0
	vmulss	xmm0, xmm1, DWORD PTR [rdi+4]
	vmovss	DWORD PTR [rdi+4], xmm0
	vmulss	xmm0, xmm1, DWORD PTR [rdi+8]
	vmovss	DWORD PTR [rdi+8], xmm0
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 240  : 	d *= np.lacunarity;

	vmulss	xmm9, xmm6, DWORD PTR [rbx+44]

; 242  : 	for (int i=1; (weight>0.001) && (i<(int)np.levels); i++) {

	vcvtss2sd xmm0, xmm2, xmm2
	vcomisd	xmm0, xmm12
	mov	esi, 1
	jbe	$LN21@hybridMult
$LL4@hybridMult:
	vcvttss2si eax, DWORD PTR [rbx+36]
	cmp	esi, eax
	jge	SHORT $LN21@hybridMult

; 243  : 		if (weight>1.0)  weight=1.0;
; 244  : 		signal = (Noise::noise(p, d, np) + np.offset) * pwr;

	mov	rdx, rdi
	lea	rcx, QWORD PTR $T2[rsp]
	vminss	xmm6, xmm10, xmm2
	call	QWORD PTR __imp_??0Point3@@QEAA@AEBV0@@Z
	mov	rcx, rax
	mov	r8, rbx
	vmovaps	xmm1, xmm9
	call	?noise@Noise@@SAMVPoint3@@MAEAVNoiseParams@@@Z ; Noise::noise
	vaddss	xmm1, xmm0, DWORD PTR [rbx+48]

; 248  : 		p *= np.lacunarity;

	vmovss	xmm3, DWORD PTR [rbx+44]
	vmulss	xmm2, xmm1, xmm8
	vmulss	xmm1, xmm2, DWORD PTR [rbx+52]
	vmulss	xmm0, xmm2, xmm6
	vaddss	xmm7, xmm7, xmm0
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h

; 271  :    x *= f;   y *= f; z *= f;

	vmulss	xmm0, xmm3, DWORD PTR [rdi]
	vmovss	DWORD PTR [rdi], xmm0
	vmulss	xmm0, xmm3, DWORD PTR [rdi+8]
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 247  : 		weight *= np.gain * signal;

	vmulss	xmm2, xmm6, xmm1
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h

; 271  :    x *= f;   y *= f; z *= f;

	vmulss	xmm1, xmm3, DWORD PTR [rdi+4]
	vmovss	DWORD PTR [rdi+8], xmm0
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 242  : 	for (int i=1; (weight>0.001) && (i<(int)np.levels); i++) {

	vcvtss2sd xmm0, xmm2, xmm2
	inc	esi
	vcomisd	xmm0, xmm12
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h

; 271  :    x *= f;   y *= f; z *= f;

	vmovss	DWORD PTR [rdi+4], xmm1
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 249  : 		d *= np.lacunarity;

	vmulss	xmm9, xmm9, DWORD PTR [rbx+44]
	vmulss	xmm8, xmm8, xmm11
	ja	SHORT $LL4@hybridMult
$LN21@hybridMult:
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath

; 123  : 	return (_CSTD floorf(_Xx));

	vmovss	xmm6, DWORD PTR [rbx+36]
	vmovaps	xmm0, xmm6
	call	floorf
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 252  : 	rmd = np.levels - floor(np.levels);

	vsubss	xmm6, xmm6, xmm0
	vxorps	xmm2, xmm2, xmm2

; 253  : 	if (rmd!=0.f) sum += rmd * (Noise::noise(p, d, np) + np.offset) * pwr;	

	vucomiss xmm6, xmm2
	jp	SHORT $LN20@hybridMult
	je	SHORT $LN6@hybridMult
$LN20@hybridMult:
	mov	rdx, rdi
	lea	rcx, QWORD PTR $T1[rsp]
	call	QWORD PTR __imp_??0Point3@@QEAA@AEBV0@@Z
	mov	rcx, rax
	mov	r8, rbx
	vmovaps	xmm1, xmm9
	call	?noise@Noise@@SAMVPoint3@@MAEAVNoiseParams@@@Z ; Noise::noise
	vaddss	xmm1, xmm0, DWORD PTR [rbx+48]
	vmulss	xmm2, xmm1, xmm6
	vmulss	xmm3, xmm2, xmm8
	vaddss	xmm7, xmm7, xmm3
$LN6@hybridMult:

; 254  : 													
; 255  : 	return (sum+1.f)*.5f;
; 256  : }

	lea	r11, QWORD PTR [rsp+160]
	mov	rbx, QWORD PTR [r11+16]
	mov	rsi, QWORD PTR [r11+24]
	vmovaps	xmm6, XMMWORD PTR [r11-16]
	vmovaps	xmm8, XMMWORD PTR [r11-48]
	vmovaps	xmm9, XMMWORD PTR [r11-64]
	vmovaps	xmm11, XMMWORD PTR [r11-96]
	vmovaps	xmm12, XMMWORD PTR [r11-112]
	vaddss	xmm0, xmm7, xmm10
	vmulss	xmm0, xmm0, DWORD PTR __real@3f000000
	vmovaps	xmm7, XMMWORD PTR [r11-32]
	vmovaps	xmm10, XMMWORD PTR [r11-80]
	mov	rsp, r11
	pop	rdi
	ret	0
?hybridMultiFractal@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z ENDP ; Fractal::hybridMultiFractal
_TEXT	ENDS
; Function compile flags: /Ogtp
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath
; File g:\dropbox\github\berconmaps\src\fractal.cpp
;	COMDAT ?heteroTerrain@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z
_TEXT	SEGMENT
$T1 = 32
$T2 = 32
$T3 = 32
p$ = 144
d$ = 152
np$ = 160
?heteroTerrain@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z PROC ; Fractal::heteroTerrain, COMDAT

; 209  : float Fractal::heteroTerrain(Point3 p, float d, NoiseParams& np) {

$LN21:
	mov	rax, rsp
	mov	QWORD PTR [rax+8], rbx
	mov	QWORD PTR [rax+16], rsi
	push	rdi
	sub	rsp, 128				; 00000080H

; 210  : 	float pwHL = pow(np.lacunarity, -np.H);	

	vmovss	xmm0, DWORD PTR [r8+40]
	vmovaps	XMMWORD PTR [rax-24], xmm6
	mov	rdi, r8
	vmovaps	XMMWORD PTR [rax-40], xmm7
	mov	rbx, rcx
	vmovaps	XMMWORD PTR [rax-56], xmm8
	vmovaps	xmm6, xmm1
	vxorps	xmm1, xmm0, DWORD PTR __xmm@80000000800000008000000080000000
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath

; 241  : 	return (_CSTD powf(_Xx, _Yx));

	vmovss	xmm0, DWORD PTR [r8+44]
	vmovaps	XMMWORD PTR [rax-72], xmm9
	vmovaps	XMMWORD PTR [rax-88], xmm10
	call	powf
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 213  : 	float sum = Noise::noise(p, np) + np.offset;

	mov	rdx, rbx
	lea	rcx, QWORD PTR $T3[rsp]
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath

; 241  : 	return (_CSTD powf(_Xx, _Yx));

	vmovaps	xmm10, xmm0
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 211  : 	float pwr = pwHL;

	vmovaps	xmm8, xmm0

; 213  : 	float sum = Noise::noise(p, np) + np.offset;

	call	QWORD PTR __imp_??0Point3@@QEAA@AEBV0@@Z
	mov	rcx, rax
	mov	rdx, rdi
	call	?noise@Noise@@SAMVPoint3@@AEAVNoiseParams@@@Z ; Noise::noise

; 214  : 	p *= np.lacunarity;

	vmovss	xmm2, DWORD PTR [rdi+44]
	vaddss	xmm7, xmm0, DWORD PTR [rdi+48]
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h

; 271  :    x *= f;   y *= f; z *= f;

	vmulss	xmm0, xmm2, DWORD PTR [rbx+4]
	vmulss	xmm1, xmm2, DWORD PTR [rbx]
	vmovss	DWORD PTR [rbx+4], xmm0
	vmulss	xmm0, xmm2, DWORD PTR [rbx+8]
	vmovss	DWORD PTR [rbx+8], xmm0
	vmovss	DWORD PTR [rbx], xmm1
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 215  : 	d *= np.lacunarity;

	vmulss	xmm9, xmm6, DWORD PTR [rdi+44]

; 217  : 	for (int i=0; i<(int)np.levels; i++) {

	vmovss	xmm6, DWORD PTR [rdi+36]
	vcvttss2si eax, xmm6
	xor	esi, esi
	test	eax, eax
	jle	SHORT $LN3@heteroTerr
	npad	6
$LL4@heteroTerr:

; 218  : 		sum += (Noise::noise(p, d, np) + np.offset) * pwr * sum;

	mov	rdx, rbx
	lea	rcx, QWORD PTR $T2[rsp]
	call	QWORD PTR __imp_??0Point3@@QEAA@AEBV0@@Z
	mov	rcx, rax
	mov	r8, rdi
	vmovaps	xmm1, xmm9
	call	?noise@Noise@@SAMVPoint3@@MAEAVNoiseParams@@@Z ; Noise::noise
	vaddss	xmm1, xmm0, DWORD PTR [rdi+48]
	vmulss	xmm2, xmm1, xmm8
	vmulss	xmm3, xmm2, xmm7

; 219  : 		pwr *= pwHL;
; 220  : 		p *= np.lacunarity;

	vmovss	xmm2, DWORD PTR [rdi+44]
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h

; 271  :    x *= f;   y *= f; z *= f;

	vmulss	xmm0, xmm2, DWORD PTR [rbx]
	vmulss	xmm1, xmm2, DWORD PTR [rbx+4]
	vmovss	DWORD PTR [rbx], xmm0
	vmulss	xmm0, xmm2, DWORD PTR [rbx+8]
	vmovss	DWORD PTR [rbx+8], xmm0
	vmovss	DWORD PTR [rbx+4], xmm1
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 217  : 	for (int i=0; i<(int)np.levels; i++) {

	vmovss	xmm6, DWORD PTR [rdi+36]

; 221  : 		d *= np.lacunarity;

	vmulss	xmm9, xmm9, DWORD PTR [rdi+44]
	vcvttss2si eax, xmm6
	inc	esi
	vaddss	xmm7, xmm7, xmm3
	vmulss	xmm8, xmm8, xmm10
	cmp	esi, eax
	jl	SHORT $LL4@heteroTerr
$LN3@heteroTerr:
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath

; 123  : 	return (_CSTD floorf(_Xx));

	vmovaps	xmm0, xmm6
	call	floorf
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 224  : 	float rmd = np.levels - floor(np.levels);

	vsubss	xmm6, xmm6, xmm0
	vxorps	xmm2, xmm2, xmm2

; 225  : 	if (rmd!=0.f) sum += rmd * (Noise::noise(p, d, np) + np.offset) * pwr * sum;

	vucomiss xmm6, xmm2
	jp	SHORT $LN19@heteroTerr
	je	SHORT $LN5@heteroTerr
$LN19@heteroTerr:
	mov	rdx, rbx
	lea	rcx, QWORD PTR $T1[rsp]
	call	QWORD PTR __imp_??0Point3@@QEAA@AEBV0@@Z
	mov	rcx, rax
	mov	r8, rdi
	vmovaps	xmm1, xmm9
	call	?noise@Noise@@SAMVPoint3@@MAEAVNoiseParams@@@Z ; Noise::noise
	vaddss	xmm1, xmm0, DWORD PTR [rdi+48]
	vmulss	xmm2, xmm1, xmm6
	vmulss	xmm3, xmm2, xmm8
	vmulss	xmm0, xmm3, xmm7
	vaddss	xmm7, xmm7, xmm0
$LN5@heteroTerr:

; 226  : 
; 227  : 	return (sum+1.f)*.5f;

	vaddss	xmm0, xmm7, DWORD PTR __real@3f800000
	vmulss	xmm0, xmm0, DWORD PTR __real@3f000000

; 228  : }

	vmovaps	xmm6, XMMWORD PTR [rsp+112]
	lea	r11, QWORD PTR [rsp+128]
	mov	rbx, QWORD PTR [r11+16]
	mov	rsi, QWORD PTR [r11+24]
	vmovaps	xmm8, XMMWORD PTR [r11-48]
	vmovaps	xmm9, XMMWORD PTR [r11-64]
	vmovaps	xmm10, XMMWORD PTR [r11-80]
	vmovaps	xmm7, XMMWORD PTR [rsp+96]
	mov	rsp, r11
	pop	rdi
	ret	0
?heteroTerrain@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z ENDP ; Fractal::heteroTerrain
_TEXT	ENDS
; Function compile flags: /Ogtp
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files (x86)\windows kits\10\include\10.0.17134.0\ucrt\corecrt_math.h
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files (x86)\windows kits\10\include\10.0.17134.0\ucrt\corecrt_math.h
; File g:\dropbox\github\berconmaps\src\fractal.cpp
;	COMDAT ?fBmTurb@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z
_TEXT	SEGMENT
$T1 = 32
$T2 = 32
p$ = 176
d$ = 184
np$ = 192
?fBmTurb@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z PROC	; Fractal::fBmTurb, COMDAT

; 191  : float Fractal::fBmTurb(Point3 p, float d, NoiseParams& np) {

$LN28:
	mov	rax, rsp
	mov	QWORD PTR [rax+8], rbx
	mov	QWORD PTR [rax+16], rsi
	push	rdi
	sub	rsp, 160				; 000000a0H

; 192  : 	float sum = 0.0f;
; 193  : 	float pwr = 1.0f;
; 194  : 	float pwHL = pow(np.lacunarity, -np.H);	

	vmovss	xmm0, DWORD PTR [r8+40]
	vmovaps	XMMWORD PTR [rax-24], xmm6
	mov	rdi, r8
	vmovaps	XMMWORD PTR [rax-40], xmm7
	mov	rbx, rcx
	vmovaps	XMMWORD PTR [rax-56], xmm8
	vmovaps	XMMWORD PTR [rax-72], xmm9
	vmovss	xmm9, DWORD PTR __real@3f800000
	vmovaps	XMMWORD PTR [rax-88], xmm10
	vmovaps	XMMWORD PTR [rax-104], xmm11
	vmovaps	xmm8, xmm1
	vxorps	xmm1, xmm0, DWORD PTR __xmm@80000000800000008000000080000000
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath

; 241  : 	return (_CSTD powf(_Xx, _Yx));

	vmovss	xmm0, DWORD PTR [r8+44]
	vmovaps	XMMWORD PTR [rax-120], xmm12
	vxorps	xmm11, xmm11, xmm11
	vxorps	xmm7, xmm7, xmm7
	call	powf
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 196  : 	for (int i=0; i<(int)np.levels; i++) {

	vmovss	xmm6, DWORD PTR [rdi+36]
	vmovsd	xmm10, QWORD PTR __xmm@7fffffffffffffff7fffffffffffffff
	vcvttss2si eax, xmm6
	xor	esi, esi
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath

; 241  : 	return (_CSTD powf(_Xx, _Yx));

	vmovaps	xmm12, xmm0
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 196  : 	for (int i=0; i<(int)np.levels; i++) {

	test	eax, eax
	jle	SHORT $LN3@fBmTurb
	npad	11
$LL4@fBmTurb:

; 197  : 		sum += fabs(Noise::noise(p, d, np)) * pwr;

	mov	rdx, rbx
	lea	rcx, QWORD PTR $T2[rsp]
	call	QWORD PTR __imp_??0Point3@@QEAA@AEBV0@@Z
	mov	rcx, rax
	mov	r8, rdi
	vmovaps	xmm1, xmm8
	call	?noise@Noise@@SAMVPoint3@@MAEAVNoiseParams@@@Z ; Noise::noise

; 198  : 		pwr *= pwHL;
; 199  : 		p *= np.lacunarity;

	vmovss	xmm2, DWORD PTR [rdi+44]
; File c:\program files (x86)\windows kits\10\include\10.0.17134.0\ucrt\corecrt_math.h

; 672  :             return (float)fabs(_X);

	vcvtss2sd xmm1, xmm0, xmm0
	vandpd	xmm1, xmm1, xmm10
	vcvtsd2ss xmm1, xmm1, xmm1
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 197  : 		sum += fabs(Noise::noise(p, d, np)) * pwr;

	vmulss	xmm0, xmm1, xmm9
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h

; 271  :    x *= f;   y *= f; z *= f;

	vmulss	xmm1, xmm2, DWORD PTR [rbx+4]
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 197  : 		sum += fabs(Noise::noise(p, d, np)) * pwr;

	vaddss	xmm7, xmm7, xmm0
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h

; 271  :    x *= f;   y *= f; z *= f;

	vmulss	xmm0, xmm2, DWORD PTR [rbx]
	vmovss	DWORD PTR [rbx], xmm0
	vmulss	xmm0, xmm2, DWORD PTR [rbx+8]
	vmovss	DWORD PTR [rbx+8], xmm0
	vmovss	DWORD PTR [rbx+4], xmm1
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 196  : 	for (int i=0; i<(int)np.levels; i++) {

	vmovss	xmm6, DWORD PTR [rdi+36]

; 200  : 		d *= np.lacunarity;

	vmulss	xmm8, xmm8, DWORD PTR [rdi+44]
	vcvttss2si eax, xmm6
	inc	esi
	vmulss	xmm9, xmm9, xmm12
	cmp	esi, eax
	jl	SHORT $LL4@fBmTurb
$LN3@fBmTurb:
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath

; 123  : 	return (_CSTD floorf(_Xx));

	vmovaps	xmm0, xmm6
	call	floorf
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 203  : 	float rmd = np.levels - floor(np.levels);

	vsubss	xmm6, xmm6, xmm0

; 204  : 	if (rmd!=0.f) sum += rmd * fabs(Noise::noise(p, d, np)) * pwr;

	vucomiss xmm6, xmm11
	jp	SHORT $LN25@fBmTurb
	jne	SHORT $LN25@fBmTurb

; 205  : 
; 206  : 	return sum;

	vmovaps	xmm0, xmm7
	jmp	SHORT $LN5@fBmTurb
$LN25@fBmTurb:

; 204  : 	if (rmd!=0.f) sum += rmd * fabs(Noise::noise(p, d, np)) * pwr;

	mov	rdx, rbx
	lea	rcx, QWORD PTR $T1[rsp]
	call	QWORD PTR __imp_??0Point3@@QEAA@AEBV0@@Z
	mov	rcx, rax
	mov	r8, rdi
	vmovaps	xmm1, xmm8
	call	?noise@Noise@@SAMVPoint3@@MAEAVNoiseParams@@@Z ; Noise::noise
; File c:\program files (x86)\windows kits\10\include\10.0.17134.0\ucrt\corecrt_math.h

; 672  :             return (float)fabs(_X);

	vcvtss2sd xmm1, xmm0, xmm0
	vandpd	xmm1, xmm1, xmm10
	vcvtsd2ss xmm1, xmm1, xmm1
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 204  : 	if (rmd!=0.f) sum += rmd * fabs(Noise::noise(p, d, np)) * pwr;

	vmulss	xmm0, xmm1, xmm6
	vmulss	xmm2, xmm0, xmm9
	vaddss	xmm0, xmm7, xmm2
$LN5@fBmTurb:

; 207  : }

	lea	r11, QWORD PTR [rsp+160]
	mov	rbx, QWORD PTR [r11+16]
	mov	rsi, QWORD PTR [r11+24]
	vmovaps	xmm6, XMMWORD PTR [r11-16]
	vmovaps	xmm7, XMMWORD PTR [r11-32]
	vmovaps	xmm8, XMMWORD PTR [r11-48]
	vmovaps	xmm9, XMMWORD PTR [r11-64]
	vmovaps	xmm10, XMMWORD PTR [r11-80]
	vmovaps	xmm11, XMMWORD PTR [r11-96]
	vmovaps	xmm12, XMMWORD PTR [r11-112]
	mov	rsp, r11
	pop	rdi
	ret	0
?fBmTurb@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z ENDP	; Fractal::fBmTurb
_TEXT	ENDS
; Function compile flags: /Ogtp
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath
; File g:\dropbox\github\berconmaps\src\fractal.cpp
;	COMDAT ?fBm@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z
_TEXT	SEGMENT
$T1 = 32
$T2 = 32
p$ = 160
d$ = 168
np$ = 176
?fBm@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z PROC	; Fractal::fBm, COMDAT

; 173  : float Fractal::fBm(Point3 p, float d, NoiseParams& np) {

$LN19:
	mov	rax, rsp
	mov	QWORD PTR [rax+8], rbx
	mov	QWORD PTR [rax+16], rsi
	push	rdi
	sub	rsp, 144				; 00000090H

; 174  : 	float sum = 0.0f;
; 175  : 	float pwr = 1.0f;
; 176  : 	float pwHL = pow(np.lacunarity, -np.H);	

	vmovss	xmm0, DWORD PTR [r8+40]
	vmovaps	XMMWORD PTR [rax-24], xmm6
	mov	rdi, r8
	vmovaps	XMMWORD PTR [rax-40], xmm7
	mov	rbx, rcx
	vmovaps	XMMWORD PTR [rax-56], xmm8
	vmovaps	XMMWORD PTR [rax-72], xmm9
	vmovss	xmm9, DWORD PTR __real@3f800000
	vmovaps	XMMWORD PTR [rax-88], xmm11
	vmovaps	xmm8, xmm1
	vxorps	xmm1, xmm0, DWORD PTR __xmm@80000000800000008000000080000000
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath

; 241  : 	return (_CSTD powf(_Xx, _Yx));

	vmovss	xmm0, DWORD PTR [r8+44]
	vmovaps	XMMWORD PTR [rax-104], xmm12
	vxorps	xmm11, xmm11, xmm11
	vxorps	xmm6, xmm6, xmm6
	call	powf
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 178  : 	for (int i=0; i<(int)np.levels; i++) {

	vmovss	xmm7, DWORD PTR [rdi+36]
	vcvttss2si eax, xmm7
	xor	esi, esi
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath

; 241  : 	return (_CSTD powf(_Xx, _Yx));

	vmovaps	xmm12, xmm0
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 178  : 	for (int i=0; i<(int)np.levels; i++) {

	test	eax, eax
	jle	SHORT $LN3@fBm
	npad	8
$LL4@fBm:

; 179  : 		sum += Noise::noise(p, d, np) * pwr;

	mov	rdx, rbx
	lea	rcx, QWORD PTR $T2[rsp]
	call	QWORD PTR __imp_??0Point3@@QEAA@AEBV0@@Z
	mov	rcx, rax
	mov	r8, rdi
	vmovaps	xmm1, xmm8
	call	?noise@Noise@@SAMVPoint3@@MAEAVNoiseParams@@@Z ; Noise::noise

; 180  : 		pwr *= pwHL;
; 181  : 		p *= np.lacunarity;

	vmovss	xmm2, DWORD PTR [rdi+44]
	vmulss	xmm1, xmm0, xmm9
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h

; 271  :    x *= f;   y *= f; z *= f;

	vmulss	xmm0, xmm2, DWORD PTR [rbx]
	vmovss	DWORD PTR [rbx], xmm0
	vmulss	xmm0, xmm2, DWORD PTR [rbx+8]
	vmovss	DWORD PTR [rbx+8], xmm0
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 179  : 		sum += Noise::noise(p, d, np) * pwr;

	vaddss	xmm6, xmm6, xmm1
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h

; 271  :    x *= f;   y *= f; z *= f;

	vmulss	xmm1, xmm2, DWORD PTR [rbx+4]
	vmovss	DWORD PTR [rbx+4], xmm1
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 178  : 	for (int i=0; i<(int)np.levels; i++) {

	vmovss	xmm7, DWORD PTR [rdi+36]

; 182  : 		d *= np.lacunarity;

	vmulss	xmm8, xmm8, DWORD PTR [rdi+44]
	vcvttss2si eax, xmm7
	inc	esi
	vmulss	xmm9, xmm9, xmm12
	cmp	esi, eax
	jl	SHORT $LL4@fBm
$LN3@fBm:
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath

; 123  : 	return (_CSTD floorf(_Xx));

	vmovaps	xmm0, xmm7
	call	floorf
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 185  : 	float rmd = np.levels - floor(np.levels);

	vsubss	xmm7, xmm7, xmm0

; 186  : 	if (rmd!=0.f) sum += rmd * Noise::noise(p, d, np) * pwr;

	vucomiss xmm7, xmm11
	jp	SHORT $LN17@fBm
	je	SHORT $LN5@fBm
$LN17@fBm:
	mov	rdx, rbx
	lea	rcx, QWORD PTR $T1[rsp]
	call	QWORD PTR __imp_??0Point3@@QEAA@AEBV0@@Z
	mov	rcx, rax
	mov	r8, rdi
	vmovaps	xmm1, xmm8
	call	?noise@Noise@@SAMVPoint3@@MAEAVNoiseParams@@@Z ; Noise::noise
	vmulss	xmm1, xmm0, xmm7
	vmulss	xmm2, xmm1, xmm9
	vaddss	xmm6, xmm6, xmm2
$LN5@fBm:

; 187  : 
; 188  : 	return (sum+1.f)*.5f;

	vaddss	xmm0, xmm6, DWORD PTR __real@3f800000
	vmulss	xmm0, xmm0, DWORD PTR __real@3f000000

; 189  : }

	vmovaps	xmm7, XMMWORD PTR [rsp+112]
	lea	r11, QWORD PTR [rsp+144]
	mov	rbx, QWORD PTR [r11+16]
	mov	rsi, QWORD PTR [r11+24]
	vmovaps	xmm6, XMMWORD PTR [r11-16]
	vmovaps	xmm8, XMMWORD PTR [r11-48]
	vmovaps	xmm9, XMMWORD PTR [r11-64]
	vmovaps	xmm11, XMMWORD PTR [r11-80]
	vmovaps	xmm12, XMMWORD PTR [r11-96]
	mov	rsp, r11
	pop	rdi
	ret	0
?fBm@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z ENDP	; Fractal::fBm
_TEXT	ENDS
; Function compile flags: /Ogtp
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files (x86)\windows kits\10\include\10.0.17134.0\ucrt\corecrt_math.h
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files (x86)\windows kits\10\include\10.0.17134.0\ucrt\corecrt_math.h
; File g:\dropbox\github\berconmaps\src\fractal.cpp
;	COMDAT ?turbulence@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z
_TEXT	SEGMENT
$T1 = 32
$T2 = 32
p$ = 192
d$ = 200
np$ = 208
?turbulence@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z PROC ; Fractal::turbulence, COMDAT

; 161  : float Fractal::turbulence(Point3 p, float d, NoiseParams& np) {

$LN25:
	mov	rax, rsp
	mov	QWORD PTR [rax+8], rbx
	push	rdi
	sub	rsp, 176				; 000000b0H
	vmovaps	XMMWORD PTR [rax-24], xmm6
	mov	rdi, r8
	vmovaps	XMMWORD PTR [rax-40], xmm7
	mov	rbx, rcx

; 162  : 	float sum = 0.0f;
; 163  : 	float l,f = 1.0f;	
; 164  : 	for (l = np.levels; l >= 1.0f; l-=1.0f) {

	vmovss	xmm7, DWORD PTR [r8+36]
	vmovaps	XMMWORD PTR [rax-56], xmm8
	vmovaps	XMMWORD PTR [rax-104], xmm11
	vmovaps	XMMWORD PTR [rax-120], xmm12
	vmovsd	xmm12, QWORD PTR __xmm@7fffffffffffffff7fffffffffffffff
	vmovaps	XMMWORD PTR [rax-72], xmm9
	vmovss	xmm9, DWORD PTR __real@3f800000
	vcomiss	xmm7, xmm9
	vmovaps	XMMWORD PTR [rax-88], xmm10
	vmovaps	xmm11, xmm1
	vxorps	xmm10, xmm10, xmm10
	vxorps	xmm8, xmm8, xmm8
	vmovaps	xmm6, xmm9
	jb	SHORT $LN3@turbulence
	vmovaps	XMMWORD PTR [rsp+48], xmm13
	vmovss	xmm13, DWORD PTR __real@bf800000
	npad	10
$LL4@turbulence:
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h

; 327  :    return(Point3(a.x*f, a.y*f, a.z*f));

	vmulss	xmm3, xmm6, DWORD PTR [rbx+8]
	vmulss	xmm2, xmm6, DWORD PTR [rbx+4]
	vmulss	xmm1, xmm6, DWORD PTR [rbx]
	lea	rcx, QWORD PTR $T2[rsp]
	call	QWORD PTR __imp_??0Point3@@QEAA@MMM@Z
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 165  : 		sum += fabs(Noise::noise(p*f, d*f, np))/f;

	vmulss	xmm1, xmm6, xmm11
	mov	r8, rdi
	lea	rcx, QWORD PTR $T2[rsp]
	call	?noise@Noise@@SAMVPoint3@@MAEAVNoiseParams@@@Z ; Noise::noise
; File c:\program files (x86)\windows kits\10\include\10.0.17134.0\ucrt\corecrt_math.h

; 672  :             return (float)fabs(_X);

	vcvtss2sd xmm1, xmm0, xmm0
	vandpd	xmm1, xmm1, xmm12
	vcvtsd2ss xmm1, xmm1, xmm1
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 165  : 		sum += fabs(Noise::noise(p*f, d*f, np))/f;

	vdivss	xmm0, xmm1, xmm6
	vaddss	xmm7, xmm7, xmm13
	vcomiss	xmm7, xmm9
	vaddss	xmm8, xmm8, xmm0

; 166  : 		f *= 2.0f;

	vaddss	xmm6, xmm6, xmm6
	jae	SHORT $LL4@turbulence

; 162  : 	float sum = 0.0f;
; 163  : 	float l,f = 1.0f;	
; 164  : 	for (l = np.levels; l >= 1.0f; l-=1.0f) {

	vmovaps	xmm13, XMMWORD PTR [rsp+48]
$LN3@turbulence:
	vmovaps	xmm9, XMMWORD PTR [rsp+112]

; 167  : 	}
; 168  : 	if (l>0.0f)

	vcomiss	xmm7, xmm10
	vmovaps	xmm10, XMMWORD PTR [rsp+96]
	jbe	SHORT $LN23@turbulence
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h

; 327  :    return(Point3(a.x*f, a.y*f, a.z*f));

	vmulss	xmm3, xmm6, DWORD PTR [rbx+8]
	vmulss	xmm2, xmm6, DWORD PTR [rbx+4]
	vmulss	xmm1, xmm6, DWORD PTR [rbx]
	lea	rcx, QWORD PTR $T1[rsp]
	call	QWORD PTR __imp_??0Point3@@QEAA@MMM@Z
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 169  : 		sum += l*fabs(Noise::noise(p*f, d*f, np))/f;

	vmulss	xmm1, xmm6, xmm11
	mov	r8, rdi
	lea	rcx, QWORD PTR $T1[rsp]
	call	?noise@Noise@@SAMVPoint3@@MAEAVNoiseParams@@@Z ; Noise::noise
; File c:\program files (x86)\windows kits\10\include\10.0.17134.0\ucrt\corecrt_math.h

; 672  :             return (float)fabs(_X);

	vcvtss2sd xmm1, xmm0, xmm0
	vandpd	xmm1, xmm1, xmm12
	vcvtsd2ss xmm1, xmm1, xmm1
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 169  : 		sum += l*fabs(Noise::noise(p*f, d*f, np))/f;

	vmulss	xmm0, xmm1, xmm7
	vdivss	xmm2, xmm0, xmm6
	vaddss	xmm0, xmm8, xmm2
	jmp	SHORT $LN5@turbulence
$LN23@turbulence:

; 170  : 	return sum;

	vmovaps	xmm0, xmm8
$LN5@turbulence:

; 171  : }

	lea	r11, QWORD PTR [rsp+176]
	mov	rbx, QWORD PTR [r11+16]
	vmovaps	xmm6, XMMWORD PTR [r11-16]
	vmovaps	xmm7, XMMWORD PTR [r11-32]
	vmovaps	xmm8, XMMWORD PTR [r11-48]
	vmovaps	xmm11, XMMWORD PTR [r11-96]
	vmovaps	xmm12, XMMWORD PTR [r11-112]
	mov	rsp, r11
	pop	rdi
	ret	0
?turbulence@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z ENDP ; Fractal::turbulence
_TEXT	ENDS
; Function compile flags: /Ogtp
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h
; File g:\dropbox\github\berconmaps\src\fractal.cpp
;	COMDAT ?fractal@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z
_TEXT	SEGMENT
$T1 = 32
$T2 = 32
p$ = 176
d$ = 184
np$ = 192
?fractal@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z PROC	; Fractal::fractal, COMDAT

; 149  : float Fractal::fractal(Point3 p, float d, NoiseParams& np) {

$LN16:
	mov	rax, rsp
	mov	QWORD PTR [rax+8], rbx
	push	rdi
	sub	rsp, 160				; 000000a0H
	vmovaps	XMMWORD PTR [rax-24], xmm6
	mov	rdi, r8
	vmovaps	XMMWORD PTR [rax-40], xmm7
	mov	rbx, rcx

; 150  : 	float sum = 0.0f;
; 151  : 	float l, f = 1.0f;
; 152  : 	for (l = np.levels; l >= 1.0f; l-=1.0f) {				

	vmovss	xmm7, DWORD PTR [r8+36]
	vmovaps	XMMWORD PTR [rax-56], xmm8
	vmovss	xmm8, DWORD PTR __real@3f800000
	vcomiss	xmm7, xmm8
	vmovaps	XMMWORD PTR [rax-72], xmm9
	vmovaps	XMMWORD PTR [rax-104], xmm11
	vmovaps	XMMWORD PTR [rax-88], xmm10
	vxorps	xmm10, xmm10, xmm10
	vmovaps	xmm11, xmm1
	vxorps	xmm9, xmm9, xmm9
	vmovaps	xmm6, xmm8
	jb	SHORT $LN3@fractal
	vmovaps	XMMWORD PTR [rax-120], xmm12
	vmovss	xmm12, DWORD PTR __real@bf800000
	npad	8
$LL4@fractal:
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h

; 327  :    return(Point3(a.x*f, a.y*f, a.z*f));

	vmulss	xmm3, xmm6, DWORD PTR [rbx+8]
	vmulss	xmm2, xmm6, DWORD PTR [rbx+4]
	vmulss	xmm1, xmm6, DWORD PTR [rbx]
	lea	rcx, QWORD PTR $T2[rsp]
	call	QWORD PTR __imp_??0Point3@@QEAA@MMM@Z
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 153  : 		sum += Noise::noise(p*f, d*f, np)/f;

	vmulss	xmm1, xmm6, xmm11
	mov	r8, rdi
	lea	rcx, QWORD PTR $T2[rsp]
	call	?noise@Noise@@SAMVPoint3@@MAEAVNoiseParams@@@Z ; Noise::noise
	vdivss	xmm1, xmm0, xmm6
	vaddss	xmm7, xmm7, xmm12
	vcomiss	xmm7, xmm8
	vaddss	xmm9, xmm9, xmm1

; 154  : 		f *= 2.0f;

	vaddss	xmm6, xmm6, xmm6
	jae	SHORT $LL4@fractal

; 150  : 	float sum = 0.0f;
; 151  : 	float l, f = 1.0f;
; 152  : 	for (l = np.levels; l >= 1.0f; l-=1.0f) {				

	vmovaps	xmm12, XMMWORD PTR [rsp+48]
$LN3@fractal:

; 155  : 	}	
; 156  : 	if (l>0.0f)				

	vcomiss	xmm7, xmm10
	vmovaps	xmm10, XMMWORD PTR [rsp+80]
	jbe	SHORT $LN5@fractal
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h

; 327  :    return(Point3(a.x*f, a.y*f, a.z*f));

	vmulss	xmm3, xmm6, DWORD PTR [rbx+8]
	vmulss	xmm2, xmm6, DWORD PTR [rbx+4]
	vmulss	xmm1, xmm6, DWORD PTR [rbx]
	lea	rcx, QWORD PTR $T1[rsp]
	call	QWORD PTR __imp_??0Point3@@QEAA@MMM@Z
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 157  : 		sum += l*Noise::noise(p*f, d*f, np)/f;				

	vmulss	xmm1, xmm6, xmm11
	mov	r8, rdi
	lea	rcx, QWORD PTR $T1[rsp]
	call	?noise@Noise@@SAMVPoint3@@MAEAVNoiseParams@@@Z ; Noise::noise
	vmulss	xmm1, xmm0, xmm7
	vdivss	xmm2, xmm1, xmm6
	vaddss	xmm9, xmm9, xmm2
$LN5@fractal:

; 158  : 	return 0.5f*(sum+1.0f);
; 159  : }

	lea	r11, QWORD PTR [rsp+160]
	mov	rbx, QWORD PTR [r11+16]
	vmovaps	xmm6, XMMWORD PTR [r11-16]
	vmovaps	xmm7, XMMWORD PTR [r11-32]
	vmovaps	xmm11, XMMWORD PTR [r11-96]
	vaddss	xmm0, xmm9, xmm8
	vmulss	xmm0, xmm0, DWORD PTR __real@3f000000
	vmovaps	xmm8, XMMWORD PTR [r11-48]
	vmovaps	xmm9, XMMWORD PTR [r11-64]
	mov	rsp, r11
	pop	rdi
	ret	0
?fractal@Fractal@@SAMVPoint3@@MAEAVNoiseParams@@@Z ENDP	; Fractal::fractal
_TEXT	ENDS
; Function compile flags: /Ogtp
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files (x86)\windows kits\10\include\10.0.17134.0\ucrt\corecrt_math.h
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files (x86)\windows kits\10\include\10.0.17134.0\ucrt\corecrt_math.h
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files (x86)\windows kits\10\include\10.0.17134.0\ucrt\corecrt_math.h
; File g:\dropbox\github\berconmaps\src\fractal.cpp
;	COMDAT ?ridgedMultiFractal@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z
_TEXT	SEGMENT
$T1 = 32
$T2 = 32
p$ = 176
np$ = 184
?ridgedMultiFractal@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z PROC ; Fractal::ridgedMultiFractal, COMDAT

; 124  : float Fractal::ridgedMultiFractal(Point3 p, NoiseParams& np) {

$LN27:
	mov	rax, rsp
	mov	QWORD PTR [rax+8], rbx
	mov	QWORD PTR [rax+16], rsi
	push	rdi
	sub	rsp, 160				; 000000a0H

; 125  : 	float sum = 0.0f;
; 126  : 	float pwHL = pow(np.lacunarity, -np.H);	

	vmovss	xmm0, DWORD PTR [rdx+40]
	vxorps	xmm1, xmm0, DWORD PTR __xmm@80000000800000008000000080000000
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath

; 241  : 	return (_CSTD powf(_Xx, _Yx));

	vmovss	xmm0, DWORD PTR [rdx+44]
	vmovaps	XMMWORD PTR [rax-40], xmm7
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 124  : float Fractal::ridgedMultiFractal(Point3 p, NoiseParams& np) {

	mov	rbx, rdx
	vmovaps	XMMWORD PTR [rax-56], xmm8
	mov	rdi, rcx
	vmovaps	XMMWORD PTR [rax-72], xmm9
	vmovaps	XMMWORD PTR [rax-88], xmm10
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath

; 241  : 	return (_CSTD powf(_Xx, _Yx));

	call	powf
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 129  : 	float signal = np.offset - fabs(Noise::noise(p, np));

	mov	rdx, rdi
	lea	rcx, QWORD PTR $T2[rsp]
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath

; 241  : 	return (_CSTD powf(_Xx, _Yx));

	vmovaps	xmm9, xmm0
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 127  : 	float pwr = pwHL;

	vmovaps	xmm8, xmm0

; 129  : 	float signal = np.offset - fabs(Noise::noise(p, np));

	call	QWORD PTR __imp_??0Point3@@QEAA@AEBV0@@Z
	mov	rcx, rax
	mov	rdx, rbx
	call	?noise@Noise@@SAMVPoint3@@AEAVNoiseParams@@@Z ; Noise::noise
; File c:\program files (x86)\windows kits\10\include\10.0.17134.0\ucrt\corecrt_math.h

; 672  :             return (float)fabs(_X);

	vmovsd	xmm10, QWORD PTR __xmm@7fffffffffffffff7fffffffffffffff
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 133  : 	for(int i=1; i<(int)np.levels; i++ ) {

	vcvttss2si eax, DWORD PTR [rbx+36]
; File c:\program files (x86)\windows kits\10\include\10.0.17134.0\ucrt\corecrt_math.h

; 672  :             return (float)fabs(_X);

	vcvtss2sd xmm1, xmm0, xmm0
	vandpd	xmm1, xmm1, xmm10
	vcvtsd2ss xmm2, xmm1, xmm1
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 129  : 	float signal = np.offset - fabs(Noise::noise(p, np));

	vmovss	xmm1, DWORD PTR [rbx+48]
	vsubss	xmm0, xmm1, xmm2

; 133  : 	for(int i=1; i<(int)np.levels; i++ ) {

	mov	esi, 1
	vmulss	xmm3, xmm0, xmm0
	vmovaps	xmm7, xmm3
	cmp	eax, esi
	jle	$LN25@ridgedMult
	vmovaps	XMMWORD PTR [rsp+144], xmm6
	vmovaps	XMMWORD PTR [rsp+64], xmm11
	vmovaps	XMMWORD PTR [rsp+48], xmm12
	vmovss	xmm12, DWORD PTR __real@3f800000
	vxorps	xmm11, xmm11, xmm11
	npad	1
$LL4@ridgedMult:

; 134  : 		p *= np.lacunarity;

	vmovss	xmm2, DWORD PTR [rbx+44]
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h

; 271  :    x *= f;   y *= f; z *= f;

	vmulss	xmm0, xmm2, DWORD PTR [rdi]
	vmulss	xmm1, xmm2, DWORD PTR [rdi+4]
	vmovss	DWORD PTR [rdi], xmm0
	vmulss	xmm0, xmm2, DWORD PTR [rdi+8]
	vmovss	DWORD PTR [rdi+8], xmm0
	vmovss	DWORD PTR [rdi+4], xmm1
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 135  : 		float weight = signal * np.gain;

	vmulss	xmm1, xmm3, DWORD PTR [rbx+52]

; 136  : 		if (weight>1.0) weight=1.0; else if (weight<0.0) weight=0.0;

	vmaxss	xmm0, xmm11, xmm1

; 137  : 		signal = np.offset - fabs(Noise::noise(p, np));

	mov	rdx, rdi
	lea	rcx, QWORD PTR $T1[rsp]
	vminss	xmm6, xmm12, xmm0
	call	QWORD PTR __imp_??0Point3@@QEAA@AEBV0@@Z
	mov	rcx, rax
	mov	rdx, rbx
	call	?noise@Noise@@SAMVPoint3@@AEAVNoiseParams@@@Z ; Noise::noise
	vcvttss2si eax, DWORD PTR [rbx+36]
; File c:\program files (x86)\windows kits\10\include\10.0.17134.0\ucrt\corecrt_math.h

; 672  :             return (float)fabs(_X);

	vcvtss2sd xmm1, xmm0, xmm0
	vandpd	xmm1, xmm1, xmm10
	vcvtsd2ss xmm2, xmm1, xmm1
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 137  : 		signal = np.offset - fabs(Noise::noise(p, np));

	vmovss	xmm1, DWORD PTR [rbx+48]
	vsubss	xmm2, xmm1, xmm2

; 138  : 		signal *= signal;

	vmulss	xmm3, xmm2, xmm2

; 139  : 		signal *= weight;

	vmulss	xmm3, xmm3, xmm6

; 140  : 		sum += signal * pwr;

	vmulss	xmm1, xmm3, xmm8
	inc	esi
	vaddss	xmm7, xmm7, xmm1

; 141  : 		pwr *= pwHL;

	vmulss	xmm8, xmm8, xmm9
	cmp	esi, eax
	jl	SHORT $LL4@ridgedMult

; 142  : 	}
; 143  : 	
; 144  : 	return sum;

	vmovaps	xmm12, XMMWORD PTR [rsp+48]
	vmovaps	xmm11, XMMWORD PTR [rsp+64]
	vmovaps	xmm6, XMMWORD PTR [rsp+144]
$LN25@ridgedMult:

; 145  : }

	lea	r11, QWORD PTR [rsp+160]
	mov	rbx, QWORD PTR [r11+16]
	mov	rsi, QWORD PTR [r11+24]
	vmovaps	xmm8, XMMWORD PTR [r11-48]
	vmovaps	xmm9, XMMWORD PTR [r11-64]
	vmovaps	xmm10, XMMWORD PTR [r11-80]
	vmovaps	xmm0, xmm7
	vmovaps	xmm7, XMMWORD PTR [r11-32]
	mov	rsp, r11
	pop	rdi
	ret	0
?ridgedMultiFractal@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z ENDP ; Fractal::ridgedMultiFractal
_TEXT	ENDS
; Function compile flags: /Ogtp
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath
; File g:\dropbox\github\berconmaps\src\fractal.cpp
;	COMDAT ?hybridMultiFractal@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z
_TEXT	SEGMENT
$T1 = 32
$T2 = 32
$T3 = 32
p$ = 160
np$ = 168
?hybridMultiFractal@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z PROC ; Fractal::hybridMultiFractal, COMDAT

; 98   : float Fractal::hybridMultiFractal(Point3 p, NoiseParams& np) {

$LN23:
	mov	rax, rsp
	mov	QWORD PTR [rax+8], rbx
	mov	QWORD PTR [rax+16], rsi
	push	rdi
	sub	rsp, 144				; 00000090H

; 99   : 	float sum = 0.0f;
; 100  : 	float pwHL = pow(np.lacunarity, -np.H);	

	vmovss	xmm0, DWORD PTR [rdx+40]
	vxorps	xmm1, xmm0, DWORD PTR __xmm@80000000800000008000000080000000
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath

; 241  : 	return (_CSTD powf(_Xx, _Yx));

	vmovss	xmm0, DWORD PTR [rdx+44]
	vmovaps	XMMWORD PTR [rax-24], xmm6
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 98   : float Fractal::hybridMultiFractal(Point3 p, NoiseParams& np) {

	mov	rbx, rdx
	vmovaps	XMMWORD PTR [rax-40], xmm7
	mov	rdi, rcx
	vmovaps	XMMWORD PTR [rax-56], xmm8
	vmovaps	XMMWORD PTR [rax-72], xmm9
	vmovaps	XMMWORD PTR [rax-88], xmm10
	vmovaps	XMMWORD PTR [rax-104], xmm11
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath

; 241  : 	return (_CSTD powf(_Xx, _Yx));

	call	powf
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 105  : 	sum = Noise::noise(p, np) + np.offset;

	mov	rdx, rdi
	lea	rcx, QWORD PTR $T3[rsp]
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath

; 241  : 	return (_CSTD powf(_Xx, _Yx));

	vmovaps	xmm10, xmm0
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 101  : 	float pwr = pwHL;

	vmovaps	xmm8, xmm0

; 105  : 	sum = Noise::noise(p, np) + np.offset;

	call	QWORD PTR __imp_??0Point3@@QEAA@AEBV0@@Z
	mov	rcx, rax
	mov	rdx, rbx
	call	?noise@Noise@@SAMVPoint3@@AEAVNoiseParams@@@Z ; Noise::noise

; 106  : 	weight = np.gain * sum;
; 107  : 	p *= np.lacunarity;

	vmovss	xmm1, DWORD PTR [rbx+44]
	vaddss	xmm7, xmm0, DWORD PTR [rbx+48]
	vmulss	xmm2, xmm7, DWORD PTR [rbx+52]
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h

; 271  :    x *= f;   y *= f; z *= f;

	vmulss	xmm0, xmm1, DWORD PTR [rdi]
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 109  : 	for (int i=1; (weight>0.001) && (i<(int)np.levels); i++) {

	vmovsd	xmm11, QWORD PTR __real@3f50624dd2f1a9fc
	vmovss	xmm9, DWORD PTR __real@3f800000
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h

; 271  :    x *= f;   y *= f; z *= f;

	vmovss	DWORD PTR [rdi], xmm0
	vmulss	xmm0, xmm1, DWORD PTR [rdi+4]
	vmovss	DWORD PTR [rdi+4], xmm0
	vmulss	xmm0, xmm1, DWORD PTR [rdi+8]
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 109  : 	for (int i=1; (weight>0.001) && (i<(int)np.levels); i++) {

	vcvtss2sd xmm1, xmm2, xmm2
	vcomisd	xmm1, xmm11
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h

; 271  :    x *= f;   y *= f; z *= f;

	vmovss	DWORD PTR [rdi+8], xmm0
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 109  : 	for (int i=1; (weight>0.001) && (i<(int)np.levels); i++) {

	mov	esi, 1
	jbe	SHORT $LN21@hybridMult
	npad	6
$LL4@hybridMult:
	vcvttss2si eax, DWORD PTR [rbx+36]
	cmp	esi, eax
	jge	SHORT $LN21@hybridMult

; 110  : 		if (weight>1.0)  weight=1.0;
; 111  : 		signal = (Noise::noise(p, np) + np.offset) * pwr;

	mov	rdx, rdi
	lea	rcx, QWORD PTR $T2[rsp]
	vminss	xmm6, xmm9, xmm2
	call	QWORD PTR __imp_??0Point3@@QEAA@AEBV0@@Z
	mov	rcx, rax
	mov	rdx, rbx
	call	?noise@Noise@@SAMVPoint3@@AEAVNoiseParams@@@Z ; Noise::noise
	vaddss	xmm1, xmm0, DWORD PTR [rbx+48]

; 114  : 		weight *= np.gain * signal;
; 115  : 		p *= np.lacunarity;

	vmovss	xmm3, DWORD PTR [rbx+44]
	vmulss	xmm2, xmm1, xmm8
	vmulss	xmm1, xmm2, DWORD PTR [rbx+52]
	vmulss	xmm0, xmm2, xmm6
	vmulss	xmm2, xmm6, xmm1
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h

; 271  :    x *= f;   y *= f; z *= f;

	vmulss	xmm1, xmm3, DWORD PTR [rdi+4]
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 113  : 		sum += weight * signal;

	vaddss	xmm7, xmm7, xmm0
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h

; 271  :    x *= f;   y *= f; z *= f;

	vmulss	xmm0, xmm3, DWORD PTR [rdi]
	vmovss	DWORD PTR [rdi+4], xmm1
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 109  : 	for (int i=1; (weight>0.001) && (i<(int)np.levels); i++) {

	vcvtss2sd xmm1, xmm2, xmm2
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h

; 271  :    x *= f;   y *= f; z *= f;

	vmovss	DWORD PTR [rdi], xmm0
	vmulss	xmm0, xmm3, DWORD PTR [rdi+8]
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 109  : 	for (int i=1; (weight>0.001) && (i<(int)np.levels); i++) {

	inc	esi
	vcomisd	xmm1, xmm11
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h

; 271  :    x *= f;   y *= f; z *= f;

	vmovss	DWORD PTR [rdi+8], xmm0
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 112  : 		pwr *= pwHL;

	vmulss	xmm8, xmm8, xmm10
	ja	SHORT $LL4@hybridMult
$LN21@hybridMult:
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath

; 123  : 	return (_CSTD floorf(_Xx));

	vmovss	xmm6, DWORD PTR [rbx+36]
	vmovaps	xmm0, xmm6
	call	floorf
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 118  : 	rmd = np.levels - floor(np.levels);

	vsubss	xmm6, xmm6, xmm0
	vxorps	xmm1, xmm1, xmm1

; 119  : 	if (rmd!=0.f) sum += rmd * (Noise::noise(p, np) + np.offset) * pwr;	

	vucomiss xmm6, xmm1
	jp	SHORT $LN20@hybridMult
	je	SHORT $LN6@hybridMult
$LN20@hybridMult:
	mov	rdx, rdi
	lea	rcx, QWORD PTR $T1[rsp]
	call	QWORD PTR __imp_??0Point3@@QEAA@AEBV0@@Z
	mov	rcx, rax
	mov	rdx, rbx
	call	?noise@Noise@@SAMVPoint3@@AEAVNoiseParams@@@Z ; Noise::noise
	vaddss	xmm1, xmm0, DWORD PTR [rbx+48]
	vmulss	xmm2, xmm1, xmm6
	vmulss	xmm3, xmm2, xmm8
	vaddss	xmm7, xmm7, xmm3
$LN6@hybridMult:

; 120  : 													
; 121  : 	return (sum+1.f)*.5f;
; 122  : }

	lea	r11, QWORD PTR [rsp+144]
	mov	rbx, QWORD PTR [r11+16]
	mov	rsi, QWORD PTR [r11+24]
	vmovaps	xmm6, XMMWORD PTR [r11-16]
	vmovaps	xmm8, XMMWORD PTR [r11-48]
	vmovaps	xmm10, XMMWORD PTR [r11-80]
	vmovaps	xmm11, XMMWORD PTR [r11-96]
	vaddss	xmm0, xmm7, xmm9
	vmulss	xmm0, xmm0, DWORD PTR __real@3f000000
	vmovaps	xmm9, XMMWORD PTR [r11-64]
	vmovaps	xmm7, XMMWORD PTR [rsp+112]
	mov	rsp, r11
	pop	rdi
	ret	0
?hybridMultiFractal@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z ENDP ; Fractal::hybridMultiFractal
_TEXT	ENDS
; Function compile flags: /Ogtp
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath
; File g:\dropbox\github\berconmaps\src\fractal.cpp
;	COMDAT ?heteroTerrain@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z
_TEXT	SEGMENT
$T1 = 32
$T2 = 32
$T3 = 32
p$ = 128
np$ = 136
?heteroTerrain@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z PROC ; Fractal::heteroTerrain, COMDAT

; 78   : float Fractal::heteroTerrain(Point3 p, NoiseParams& np) {

$LN21:
	mov	QWORD PTR [rsp+8], rbx
	mov	QWORD PTR [rsp+16], rsi
	push	rdi
	sub	rsp, 112				; 00000070H

; 79   : 	float sum;
; 80   : 	float pwHL = pow(np.lacunarity, -np.H);	

	vmovss	xmm0, DWORD PTR [rdx+40]
	vxorps	xmm1, xmm0, DWORD PTR __xmm@80000000800000008000000080000000
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath

; 241  : 	return (_CSTD powf(_Xx, _Yx));

	vmovss	xmm0, DWORD PTR [rdx+44]
	vmovaps	XMMWORD PTR [rsp+96], xmm6
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 78   : float Fractal::heteroTerrain(Point3 p, NoiseParams& np) {

	mov	rdi, rdx
	vmovaps	XMMWORD PTR [rsp+80], xmm7
	mov	rbx, rcx
	vmovaps	XMMWORD PTR [rsp+64], xmm8
	vmovaps	XMMWORD PTR [rsp+48], xmm9
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath

; 241  : 	return (_CSTD powf(_Xx, _Yx));

	call	powf
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 83   : 	sum = Noise::noise(p, np) + np.offset;

	mov	rdx, rbx
	lea	rcx, QWORD PTR $T3[rsp]
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath

; 241  : 	return (_CSTD powf(_Xx, _Yx));

	vmovaps	xmm9, xmm0
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 81   : 	float pwr = pwHL;

	vmovaps	xmm8, xmm0

; 83   : 	sum = Noise::noise(p, np) + np.offset;

	call	QWORD PTR __imp_??0Point3@@QEAA@AEBV0@@Z
	mov	rcx, rax
	mov	rdx, rdi
	call	?noise@Noise@@SAMVPoint3@@AEAVNoiseParams@@@Z ; Noise::noise

; 84   : 	p *= np.lacunarity;

	vmovss	xmm2, DWORD PTR [rdi+44]
	vaddss	xmm6, xmm0, DWORD PTR [rdi+48]
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h

; 271  :    x *= f;   y *= f; z *= f;

	vmulss	xmm0, xmm2, DWORD PTR [rbx+4]
	vmulss	xmm1, xmm2, DWORD PTR [rbx]
	vmovss	DWORD PTR [rbx+4], xmm0
	vmulss	xmm0, xmm2, DWORD PTR [rbx+8]
	vmovss	DWORD PTR [rbx+8], xmm0
	vmovss	DWORD PTR [rbx], xmm1
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 86   : 	for (int i=0; i<(int)np.levels; i++) {

	vmovss	xmm7, DWORD PTR [rdi+36]
	vcvttss2si eax, xmm7
	xor	esi, esi
	test	eax, eax
	jle	SHORT $LN3@heteroTerr
	npad	6
$LL4@heteroTerr:

; 87   : 		sum += (Noise::noise(p, np) + np.offset) * pwr * sum;

	mov	rdx, rbx
	lea	rcx, QWORD PTR $T2[rsp]
	call	QWORD PTR __imp_??0Point3@@QEAA@AEBV0@@Z
	mov	rcx, rax
	mov	rdx, rdi
	call	?noise@Noise@@SAMVPoint3@@AEAVNoiseParams@@@Z ; Noise::noise
	vaddss	xmm1, xmm0, DWORD PTR [rdi+48]
	vmulss	xmm2, xmm1, xmm8
	vmulss	xmm3, xmm2, xmm6

; 89   : 		p *= np.lacunarity;

	vmovss	xmm2, DWORD PTR [rdi+44]
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h

; 271  :    x *= f;   y *= f; z *= f;

	vmulss	xmm0, xmm2, DWORD PTR [rbx]
	vmulss	xmm1, xmm2, DWORD PTR [rbx+4]
	vmovss	DWORD PTR [rbx], xmm0
	vmulss	xmm0, xmm2, DWORD PTR [rbx+8]
	vmovss	DWORD PTR [rbx+8], xmm0
	vmovss	DWORD PTR [rbx+4], xmm1
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 86   : 	for (int i=0; i<(int)np.levels; i++) {

	vmovss	xmm7, DWORD PTR [rdi+36]
	vcvttss2si eax, xmm7
	inc	esi

; 87   : 		sum += (Noise::noise(p, np) + np.offset) * pwr * sum;

	vaddss	xmm6, xmm6, xmm3

; 88   : 		pwr *= pwHL;

	vmulss	xmm8, xmm8, xmm9
	cmp	esi, eax
	jl	SHORT $LL4@heteroTerr
$LN3@heteroTerr:
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath

; 123  : 	return (_CSTD floorf(_Xx));

	vmovaps	xmm0, xmm7
	call	floorf
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 92   : 	float rmd = np.levels - floor(np.levels);

	vsubss	xmm7, xmm7, xmm0
	vxorps	xmm1, xmm1, xmm1

; 93   : 	if (rmd!=0.f) sum += rmd * (Noise::noise(p, np) + np.offset) * pwr * sum;

	vucomiss xmm7, xmm1
	jp	SHORT $LN19@heteroTerr
	je	SHORT $LN5@heteroTerr
$LN19@heteroTerr:
	mov	rdx, rbx
	lea	rcx, QWORD PTR $T1[rsp]
	call	QWORD PTR __imp_??0Point3@@QEAA@AEBV0@@Z
	mov	rcx, rax
	mov	rdx, rdi
	call	?noise@Noise@@SAMVPoint3@@AEAVNoiseParams@@@Z ; Noise::noise
	vaddss	xmm1, xmm0, DWORD PTR [rdi+48]
	vmulss	xmm2, xmm1, xmm7
	vmulss	xmm3, xmm2, xmm8
	vmulss	xmm0, xmm3, xmm6
	vaddss	xmm6, xmm6, xmm0
$LN5@heteroTerr:

; 94   : 
; 95   : 	return (sum+1.f)*.5f;

	vaddss	xmm0, xmm6, DWORD PTR __real@3f800000
	vmulss	xmm0, xmm0, DWORD PTR __real@3f000000

; 96   : }

	vmovaps	xmm6, XMMWORD PTR [rsp+96]
	lea	r11, QWORD PTR [rsp+112]
	mov	rbx, QWORD PTR [r11+16]
	mov	rsi, QWORD PTR [r11+24]
	vmovaps	xmm8, XMMWORD PTR [r11-48]
	vmovaps	xmm9, XMMWORD PTR [r11-64]
	vmovaps	xmm7, XMMWORD PTR [rsp+80]
	mov	rsp, r11
	pop	rdi
	ret	0
?heteroTerrain@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z ENDP ; Fractal::heteroTerrain
_TEXT	ENDS
; Function compile flags: /Ogtp
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files (x86)\windows kits\10\include\10.0.17134.0\ucrt\corecrt_math.h
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files (x86)\windows kits\10\include\10.0.17134.0\ucrt\corecrt_math.h
; File g:\dropbox\github\berconmaps\src\fractal.cpp
;	COMDAT ?fBmTurb@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z
_TEXT	SEGMENT
$T1 = 32
$T2 = 32
p$ = 160
np$ = 168
?fBmTurb@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z PROC	; Fractal::fBmTurb, COMDAT

; 61   : float Fractal::fBmTurb(Point3 p, NoiseParams& np) {

$LN28:
	mov	rax, rsp
	mov	QWORD PTR [rax+8], rbx
	mov	QWORD PTR [rax+16], rsi
	push	rdi
	sub	rsp, 144				; 00000090H

; 64   : 	float pwHL = pow(np.lacunarity, -np.H);	

	vmovss	xmm0, DWORD PTR [rdx+40]
	vxorps	xmm1, xmm0, DWORD PTR __xmm@80000000800000008000000080000000
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath

; 241  : 	return (_CSTD powf(_Xx, _Yx));

	vmovss	xmm0, DWORD PTR [rdx+44]
	vmovaps	XMMWORD PTR [rax-24], xmm6
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 61   : float Fractal::fBmTurb(Point3 p, NoiseParams& np) {

	mov	rdi, rdx
	vmovaps	XMMWORD PTR [rax-40], xmm7
	mov	rbx, rcx
	vmovaps	XMMWORD PTR [rax-56], xmm8

; 62   : 	float sum = 0.0f;
; 63   : 	float pwr = 1.0f;

	vmovss	xmm8, DWORD PTR __real@3f800000
	vmovaps	XMMWORD PTR [rax-72], xmm9
	vmovaps	XMMWORD PTR [rax-88], xmm10
	vmovaps	XMMWORD PTR [rax-104], xmm11
	vxorps	xmm10, xmm10, xmm10
	vxorps	xmm7, xmm7, xmm7
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath

; 241  : 	return (_CSTD powf(_Xx, _Yx));

	call	powf
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 66   : 	for (int i=0; i<(int)np.levels; i++) {

	vmovss	xmm6, DWORD PTR [rdi+36]
	vmovsd	xmm9, QWORD PTR __xmm@7fffffffffffffff7fffffffffffffff
	vcvttss2si eax, xmm6
	xor	esi, esi
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath

; 241  : 	return (_CSTD powf(_Xx, _Yx));

	vmovaps	xmm11, xmm0
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 66   : 	for (int i=0; i<(int)np.levels; i++) {

	test	eax, eax
	jle	SHORT $LN3@fBmTurb
	npad	6
$LL4@fBmTurb:

; 67   : 		sum += fabs(Noise::noise(p, np)) * pwr;

	mov	rdx, rbx
	lea	rcx, QWORD PTR $T2[rsp]
	call	QWORD PTR __imp_??0Point3@@QEAA@AEBV0@@Z
	mov	rcx, rax
	mov	rdx, rdi
	call	?noise@Noise@@SAMVPoint3@@AEAVNoiseParams@@@Z ; Noise::noise

; 69   : 		p *= np.lacunarity;

	vmovss	xmm2, DWORD PTR [rdi+44]
; File c:\program files (x86)\windows kits\10\include\10.0.17134.0\ucrt\corecrt_math.h

; 672  :             return (float)fabs(_X);

	vcvtss2sd xmm1, xmm0, xmm0
	vandpd	xmm1, xmm1, xmm9
	vcvtsd2ss xmm1, xmm1, xmm1
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 67   : 		sum += fabs(Noise::noise(p, np)) * pwr;

	vmulss	xmm0, xmm1, xmm8
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h

; 271  :    x *= f;   y *= f; z *= f;

	vmulss	xmm1, xmm2, DWORD PTR [rbx+4]
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 67   : 		sum += fabs(Noise::noise(p, np)) * pwr;

	vaddss	xmm7, xmm7, xmm0
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h

; 271  :    x *= f;   y *= f; z *= f;

	vmulss	xmm0, xmm2, DWORD PTR [rbx]
	vmovss	DWORD PTR [rbx], xmm0
	vmulss	xmm0, xmm2, DWORD PTR [rbx+8]
	vmovss	DWORD PTR [rbx+8], xmm0
	vmovss	DWORD PTR [rbx+4], xmm1
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 66   : 	for (int i=0; i<(int)np.levels; i++) {

	vmovss	xmm6, DWORD PTR [rdi+36]
	vcvttss2si eax, xmm6
	inc	esi

; 68   : 		pwr *= pwHL;

	vmulss	xmm8, xmm8, xmm11
	cmp	esi, eax
	jl	SHORT $LL4@fBmTurb
$LN3@fBmTurb:
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath

; 123  : 	return (_CSTD floorf(_Xx));

	vmovaps	xmm0, xmm6
	call	floorf
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 72   : 	float rmd = np.levels - floor(np.levels);

	vsubss	xmm6, xmm6, xmm0

; 73   : 	if (rmd!=0.f) sum += rmd * fabs(Noise::noise(p, np)) * pwr;

	vucomiss xmm6, xmm10
	jp	SHORT $LN25@fBmTurb
	jne	SHORT $LN25@fBmTurb

; 74   : 
; 75   : 	return sum;

	vmovaps	xmm0, xmm7
	jmp	SHORT $LN5@fBmTurb
$LN25@fBmTurb:

; 73   : 	if (rmd!=0.f) sum += rmd * fabs(Noise::noise(p, np)) * pwr;

	mov	rdx, rbx
	lea	rcx, QWORD PTR $T1[rsp]
	call	QWORD PTR __imp_??0Point3@@QEAA@AEBV0@@Z
	mov	rcx, rax
	mov	rdx, rdi
	call	?noise@Noise@@SAMVPoint3@@AEAVNoiseParams@@@Z ; Noise::noise
; File c:\program files (x86)\windows kits\10\include\10.0.17134.0\ucrt\corecrt_math.h

; 672  :             return (float)fabs(_X);

	vcvtss2sd xmm1, xmm0, xmm0
	vandpd	xmm1, xmm1, xmm9
	vcvtsd2ss xmm1, xmm1, xmm1
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 73   : 	if (rmd!=0.f) sum += rmd * fabs(Noise::noise(p, np)) * pwr;

	vmulss	xmm0, xmm1, xmm6
	vmulss	xmm2, xmm0, xmm8
	vaddss	xmm0, xmm7, xmm2
$LN5@fBmTurb:

; 76   : }

	vmovaps	xmm7, XMMWORD PTR [rsp+112]
	lea	r11, QWORD PTR [rsp+144]
	mov	rbx, QWORD PTR [r11+16]
	mov	rsi, QWORD PTR [r11+24]
	vmovaps	xmm6, XMMWORD PTR [r11-16]
	vmovaps	xmm8, XMMWORD PTR [r11-48]
	vmovaps	xmm9, XMMWORD PTR [r11-64]
	vmovaps	xmm10, XMMWORD PTR [r11-80]
	vmovaps	xmm11, XMMWORD PTR [r11-96]
	mov	rsp, r11
	pop	rdi
	ret	0
?fBmTurb@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z ENDP	; Fractal::fBmTurb
_TEXT	ENDS
; Function compile flags: /Ogtp
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath
; File g:\dropbox\github\berconmaps\src\fractal.cpp
;	COMDAT ?fBm@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z
_TEXT	SEGMENT
$T1 = 32
$T2 = 32
p$ = 144
np$ = 152
?fBm@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z PROC	; Fractal::fBm, COMDAT

; 44   : float Fractal::fBm(Point3 p, NoiseParams& np) {

$LN19:
	mov	rax, rsp
	mov	QWORD PTR [rax+8], rbx
	mov	QWORD PTR [rax+16], rsi
	push	rdi
	sub	rsp, 128				; 00000080H

; 47   : 	float pwHL = pow(np.lacunarity, -np.H);	

	vmovss	xmm0, DWORD PTR [rdx+40]
	vxorps	xmm1, xmm0, DWORD PTR __xmm@80000000800000008000000080000000
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath

; 241  : 	return (_CSTD powf(_Xx, _Yx));

	vmovss	xmm0, DWORD PTR [rdx+44]
	vmovaps	XMMWORD PTR [rax-24], xmm6
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 44   : float Fractal::fBm(Point3 p, NoiseParams& np) {

	mov	rdi, rdx
	vmovaps	XMMWORD PTR [rax-40], xmm7
	mov	rbx, rcx
	vmovaps	XMMWORD PTR [rax-56], xmm8

; 45   : 	float sum = 0.0f;
; 46   : 	float pwr = 1.0f;

	vmovss	xmm8, DWORD PTR __real@3f800000
	vmovaps	XMMWORD PTR [rax-72], xmm10
	vmovaps	XMMWORD PTR [rax-88], xmm11
	vxorps	xmm10, xmm10, xmm10
	vxorps	xmm6, xmm6, xmm6
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath

; 241  : 	return (_CSTD powf(_Xx, _Yx));

	call	powf
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 49   : 	for (int i=0; i<(int)np.levels; i++) {

	vmovss	xmm7, DWORD PTR [rdi+36]
	vcvttss2si eax, xmm7
	xor	esi, esi
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath

; 241  : 	return (_CSTD powf(_Xx, _Yx));

	vmovaps	xmm11, xmm0
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 49   : 	for (int i=0; i<(int)np.levels; i++) {

	test	eax, eax
	jle	SHORT $LN3@fBm
	npad	3
$LL4@fBm:

; 50   : 		sum += Noise::noise(p, np) * pwr;

	mov	rdx, rbx
	lea	rcx, QWORD PTR $T2[rsp]
	call	QWORD PTR __imp_??0Point3@@QEAA@AEBV0@@Z
	mov	rcx, rax
	mov	rdx, rdi
	call	?noise@Noise@@SAMVPoint3@@AEAVNoiseParams@@@Z ; Noise::noise

; 52   : 		p *= np.lacunarity;

	vmovss	xmm2, DWORD PTR [rdi+44]
	vmulss	xmm1, xmm0, xmm8
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h

; 271  :    x *= f;   y *= f; z *= f;

	vmulss	xmm0, xmm2, DWORD PTR [rbx]
	vmovss	DWORD PTR [rbx], xmm0
	vmulss	xmm0, xmm2, DWORD PTR [rbx+8]
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 50   : 		sum += Noise::noise(p, np) * pwr;

	vaddss	xmm6, xmm6, xmm1
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h

; 271  :    x *= f;   y *= f; z *= f;

	vmulss	xmm1, xmm2, DWORD PTR [rbx+4]
	vmovss	DWORD PTR [rbx+8], xmm0
	vmovss	DWORD PTR [rbx+4], xmm1
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 49   : 	for (int i=0; i<(int)np.levels; i++) {

	vmovss	xmm7, DWORD PTR [rdi+36]
	vcvttss2si eax, xmm7
	inc	esi

; 51   : 		pwr *= pwHL;

	vmulss	xmm8, xmm8, xmm11
	cmp	esi, eax
	jl	SHORT $LL4@fBm
$LN3@fBm:
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath

; 123  : 	return (_CSTD floorf(_Xx));

	vmovaps	xmm0, xmm7
	call	floorf
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 55   : 	float rmd = np.levels - floor(np.levels);

	vsubss	xmm7, xmm7, xmm0

; 56   : 	if (rmd!=0.f) sum += rmd * Noise::noise(p, np) * pwr;

	vucomiss xmm7, xmm10
	jp	SHORT $LN17@fBm
	je	SHORT $LN5@fBm
$LN17@fBm:
	mov	rdx, rbx
	lea	rcx, QWORD PTR $T1[rsp]
	call	QWORD PTR __imp_??0Point3@@QEAA@AEBV0@@Z
	mov	rcx, rax
	mov	rdx, rdi
	call	?noise@Noise@@SAMVPoint3@@AEAVNoiseParams@@@Z ; Noise::noise
	vmulss	xmm1, xmm0, xmm7
	vmulss	xmm2, xmm1, xmm8
	vaddss	xmm6, xmm6, xmm2
$LN5@fBm:

; 57   : 
; 58   : 	return (sum+1.f)*.5f;

	vaddss	xmm0, xmm6, DWORD PTR __real@3f800000
	vmulss	xmm0, xmm0, DWORD PTR __real@3f000000

; 59   : }

	vmovaps	xmm6, XMMWORD PTR [rsp+112]
	lea	r11, QWORD PTR [rsp+128]
	mov	rbx, QWORD PTR [r11+16]
	mov	rsi, QWORD PTR [r11+24]
	vmovaps	xmm8, XMMWORD PTR [r11-48]
	vmovaps	xmm10, XMMWORD PTR [r11-64]
	vmovaps	xmm11, XMMWORD PTR [r11-80]
	vmovaps	xmm7, XMMWORD PTR [rsp+96]
	mov	rsp, r11
	pop	rdi
	ret	0
?fBm@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z ENDP	; Fractal::fBm
_TEXT	ENDS
; Function compile flags: /Ogtp
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files (x86)\windows kits\10\include\10.0.17134.0\ucrt\corecrt_math.h
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files (x86)\windows kits\10\include\10.0.17134.0\ucrt\corecrt_math.h
; File g:\dropbox\github\berconmaps\src\fractal.cpp
;	COMDAT ?turbulence@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z
_TEXT	SEGMENT
$T1 = 32
$T2 = 32
p$ = 176
np$ = 184
?turbulence@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z PROC ; Fractal::turbulence, COMDAT

; 32   : float Fractal::turbulence(Point3 p, NoiseParams& np) {

$LN25:
	mov	rax, rsp
	mov	QWORD PTR [rax+8], rbx
	push	rdi
	sub	rsp, 160				; 000000a0H
	vmovaps	XMMWORD PTR [rax-24], xmm6
	mov	rdi, rdx
	vmovaps	XMMWORD PTR [rax-40], xmm7
	mov	rbx, rcx

; 33   : 	float sum = 0.0f;
; 34   : 	float l,f = 1.0f;	
; 35   : 	for (l = np.levels; l >= 1.0f; l-=1.0f) {

	vmovss	xmm7, DWORD PTR [rdx+36]
	vmovaps	XMMWORD PTR [rax-56], xmm8
	vmovaps	XMMWORD PTR [rax-104], xmm11
	vmovsd	xmm11, QWORD PTR __xmm@7fffffffffffffff7fffffffffffffff
	vmovaps	XMMWORD PTR [rax-72], xmm9
	vmovss	xmm9, DWORD PTR __real@3f800000
	vcomiss	xmm7, xmm9
	vmovaps	XMMWORD PTR [rax-88], xmm10
	vxorps	xmm10, xmm10, xmm10
	vxorps	xmm8, xmm8, xmm8
	vmovaps	xmm6, xmm9
	jb	SHORT $LN3@turbulence
	vmovaps	XMMWORD PTR [rax-120], xmm12
	vmovss	xmm12, DWORD PTR __real@bf800000
	npad	5
$LL4@turbulence:
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h

; 327  :    return(Point3(a.x*f, a.y*f, a.z*f));

	vmulss	xmm3, xmm6, DWORD PTR [rbx+8]
	vmulss	xmm2, xmm6, DWORD PTR [rbx+4]
	vmulss	xmm1, xmm6, DWORD PTR [rbx]
	lea	rcx, QWORD PTR $T2[rsp]
	call	QWORD PTR __imp_??0Point3@@QEAA@MMM@Z
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 36   : 		sum += fabs(Noise::noise(p*f, np))/f;

	mov	rdx, rdi
	lea	rcx, QWORD PTR $T2[rsp]
	call	?noise@Noise@@SAMVPoint3@@AEAVNoiseParams@@@Z ; Noise::noise
; File c:\program files (x86)\windows kits\10\include\10.0.17134.0\ucrt\corecrt_math.h

; 672  :             return (float)fabs(_X);

	vcvtss2sd xmm1, xmm0, xmm0
	vandpd	xmm1, xmm1, xmm11
	vcvtsd2ss xmm1, xmm1, xmm1
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 36   : 		sum += fabs(Noise::noise(p*f, np))/f;

	vdivss	xmm0, xmm1, xmm6
	vaddss	xmm7, xmm7, xmm12
	vcomiss	xmm7, xmm9
	vaddss	xmm8, xmm8, xmm0

; 37   : 		f *= 2.0f;

	vaddss	xmm6, xmm6, xmm6
	jae	SHORT $LL4@turbulence

; 33   : 	float sum = 0.0f;
; 34   : 	float l,f = 1.0f;	
; 35   : 	for (l = np.levels; l >= 1.0f; l-=1.0f) {

	vmovaps	xmm12, XMMWORD PTR [rsp+48]
$LN3@turbulence:
	vmovaps	xmm9, XMMWORD PTR [rsp+96]

; 38   : 	}
; 39   : 	if (l>0.0f)

	vcomiss	xmm7, xmm10
	vmovaps	xmm10, XMMWORD PTR [rsp+80]
	jbe	SHORT $LN23@turbulence
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h

; 327  :    return(Point3(a.x*f, a.y*f, a.z*f));

	vmulss	xmm3, xmm6, DWORD PTR [rbx+8]
	vmulss	xmm2, xmm6, DWORD PTR [rbx+4]
	vmulss	xmm1, xmm6, DWORD PTR [rbx]
	lea	rcx, QWORD PTR $T1[rsp]
	call	QWORD PTR __imp_??0Point3@@QEAA@MMM@Z
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 40   : 		sum += l*fabs(Noise::noise(p*f, np))/f;

	mov	rdx, rdi
	lea	rcx, QWORD PTR $T1[rsp]
	call	?noise@Noise@@SAMVPoint3@@AEAVNoiseParams@@@Z ; Noise::noise
; File c:\program files (x86)\windows kits\10\include\10.0.17134.0\ucrt\corecrt_math.h

; 672  :             return (float)fabs(_X);

	vcvtss2sd xmm1, xmm0, xmm0
	vandpd	xmm1, xmm1, xmm11
	vcvtsd2ss xmm1, xmm1, xmm1
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 40   : 		sum += l*fabs(Noise::noise(p*f, np))/f;

	vmulss	xmm0, xmm1, xmm7
	vdivss	xmm2, xmm0, xmm6
	vaddss	xmm0, xmm8, xmm2
	jmp	SHORT $LN5@turbulence
$LN23@turbulence:

; 41   : 	return sum;

	vmovaps	xmm0, xmm8
$LN5@turbulence:

; 42   : }

	lea	r11, QWORD PTR [rsp+160]
	mov	rbx, QWORD PTR [r11+16]
	vmovaps	xmm6, XMMWORD PTR [r11-16]
	vmovaps	xmm7, XMMWORD PTR [r11-32]
	vmovaps	xmm8, XMMWORD PTR [r11-48]
	vmovaps	xmm11, XMMWORD PTR [r11-96]
	mov	rsp, r11
	pop	rdi
	ret	0
?turbulence@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z ENDP ; Fractal::turbulence
_TEXT	ENDS
; Function compile flags: /Ogtp
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h
; File g:\dropbox\github\berconmaps\src\fractal.cpp
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h
; File g:\dropbox\github\berconmaps\src\fractal.cpp
;	COMDAT ?fractal@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z
_TEXT	SEGMENT
$T1 = 32
$T2 = 32
p$ = 160
np$ = 168
?fractal@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z PROC	; Fractal::fractal, COMDAT

; 20   : float Fractal::fractal(Point3 p, NoiseParams& np) {

$LN16:
	mov	rax, rsp
	mov	QWORD PTR [rax+8], rbx
	push	rdi
	sub	rsp, 144				; 00000090H
	vmovaps	XMMWORD PTR [rax-24], xmm6
	mov	rdi, rdx
	vmovaps	XMMWORD PTR [rax-40], xmm7
	mov	rbx, rcx

; 21   : 	float sum = 0.0f;
; 22   : 	float l, f = 1.0f;
; 23   : 	for (l = np.levels; l >= 1.0f; l-=1.0f) {				

	vmovss	xmm7, DWORD PTR [rdx+36]
	vmovaps	XMMWORD PTR [rax-56], xmm8
	vmovss	xmm8, DWORD PTR __real@3f800000
	vcomiss	xmm7, xmm8
	vmovaps	XMMWORD PTR [rax-72], xmm9
	vmovaps	XMMWORD PTR [rax-88], xmm10
	vxorps	xmm10, xmm10, xmm10
	vxorps	xmm9, xmm9, xmm9
	vmovaps	xmm6, xmm8
	jb	SHORT $LN3@fractal
	vmovaps	XMMWORD PTR [rax-104], xmm11
	vmovss	xmm11, DWORD PTR __real@bf800000
	npad	2
$LL4@fractal:
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h

; 327  :    return(Point3(a.x*f, a.y*f, a.z*f));

	vmulss	xmm3, xmm6, DWORD PTR [rbx+8]
	vmulss	xmm2, xmm6, DWORD PTR [rbx+4]
	vmulss	xmm1, xmm6, DWORD PTR [rbx]
	lea	rcx, QWORD PTR $T2[rsp]
	call	QWORD PTR __imp_??0Point3@@QEAA@MMM@Z
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 24   : 		sum += Noise::noise(p*f, np)/f;

	mov	rdx, rdi
	lea	rcx, QWORD PTR $T2[rsp]
	call	?noise@Noise@@SAMVPoint3@@AEAVNoiseParams@@@Z ; Noise::noise
	vdivss	xmm1, xmm0, xmm6
	vaddss	xmm7, xmm7, xmm11
	vcomiss	xmm7, xmm8
	vaddss	xmm9, xmm9, xmm1

; 25   : 		f *= 2.0f;

	vaddss	xmm6, xmm6, xmm6
	jae	SHORT $LL4@fractal

; 21   : 	float sum = 0.0f;
; 22   : 	float l, f = 1.0f;
; 23   : 	for (l = np.levels; l >= 1.0f; l-=1.0f) {				

	vmovaps	xmm11, XMMWORD PTR [rsp+48]
$LN3@fractal:

; 26   : 	}	
; 27   : 	if (l>0.0f)				

	vcomiss	xmm7, xmm10
	vmovaps	xmm10, XMMWORD PTR [rsp+64]
	jbe	SHORT $LN5@fractal
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h

; 327  :    return(Point3(a.x*f, a.y*f, a.z*f));

	vmulss	xmm3, xmm6, DWORD PTR [rbx+8]
	vmulss	xmm2, xmm6, DWORD PTR [rbx+4]
	vmulss	xmm1, xmm6, DWORD PTR [rbx]
	lea	rcx, QWORD PTR $T1[rsp]
	call	QWORD PTR __imp_??0Point3@@QEAA@MMM@Z
; File g:\dropbox\github\berconmaps\src\fractal.cpp

; 28   : 		sum += l*Noise::noise(p*f, np)/f;				

	mov	rdx, rdi
	lea	rcx, QWORD PTR $T1[rsp]
	call	?noise@Noise@@SAMVPoint3@@AEAVNoiseParams@@@Z ; Noise::noise
	vmulss	xmm1, xmm0, xmm7
	vdivss	xmm2, xmm1, xmm6
	vaddss	xmm9, xmm9, xmm2
$LN5@fractal:

; 29   : 	return 0.5f*(sum+1.0f);
; 30   : }

	vmovaps	xmm7, XMMWORD PTR [rsp+112]
	lea	r11, QWORD PTR [rsp+144]
	mov	rbx, QWORD PTR [r11+16]
	vmovaps	xmm6, XMMWORD PTR [r11-16]
	vaddss	xmm0, xmm9, xmm8
	vmulss	xmm0, xmm0, DWORD PTR __real@3f000000
	vmovaps	xmm8, XMMWORD PTR [r11-48]
	vmovaps	xmm9, XMMWORD PTR [r11-64]
	mov	rsp, r11
	pop	rdi
	ret	0
?fractal@Fractal@@SAMVPoint3@@AEAVNoiseParams@@@Z ENDP	; Fractal::fractal
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\assetmanagement\assetid.h
;	COMDAT ??__EkInvalidId@AssetManagement@MaxSDK@@YAXXZ
text$di	SEGMENT
??__EkInvalidId@AssetManagement@MaxSDK@@YAXXZ PROC	; MaxSDK::AssetManagement::`dynamic initializer for 'kInvalidId'', COMDAT

; 29   : 			AssetId() { *static_cast<GUID*>(this) = CLSID_NULL; }

	vmovups	xmm0, XMMWORD PTR GUID_NULL
	vmovups	XMMWORD PTR ?kInvalidId@AssetManagement@MaxSDK@@3UAssetId@12@A, xmm0

; 32   : 		static AssetId kInvalidId;

	ret	0
??__EkInvalidId@AssetManagement@MaxSDK@@YAXXZ ENDP	; MaxSDK::AssetManagement::`dynamic initializer for 'kInvalidId''
text$di	ENDS
; Function compile flags: /Ogtp
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\assetmanagement\assetid.h
;	COMDAT ??0AssetId@AssetManagement@MaxSDK@@QEAA@XZ
_TEXT	SEGMENT
this$ = 8
??0AssetId@AssetManagement@MaxSDK@@QEAA@XZ PROC		; MaxSDK::AssetManagement::AssetId::AssetId, COMDAT

; 29   : 			AssetId() { *static_cast<GUID*>(this) = CLSID_NULL; }

	vmovups	xmm0, XMMWORD PTR GUID_NULL
	vmovups	XMMWORD PTR [rcx], xmm0
	mov	rax, rcx
	ret	0
??0AssetId@AssetManagement@MaxSDK@@QEAA@XZ ENDP		; MaxSDK::AssetManagement::AssetId::AssetId
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\point3.h
;	COMDAT ??D@YA?AVPoint3@@AEBV0@M@Z
_TEXT	SEGMENT
__$ReturnUdt$ = 48
a$ = 56
f$ = 64
??D@YA?AVPoint3@@AEBV0@M@Z PROC				; operator*, COMDAT

; 326  : __forceinline Point3 operator*(const Point3& a, float f) {

$LN4:
	push	rbx
	sub	rsp, 32					; 00000020H

; 327  :    return(Point3(a.x*f, a.y*f, a.z*f));

	vmulss	xmm3, xmm2, DWORD PTR [rdx+8]
	vmovaps	xmm0, xmm2
	vmulss	xmm1, xmm0, DWORD PTR [rdx]
	vmulss	xmm2, xmm2, DWORD PTR [rdx+4]
	mov	rbx, rcx
	call	QWORD PTR __imp_??0Point3@@QEAA@MMM@Z
	mov	rax, rbx

; 328  :    }

	add	rsp, 32					; 00000020H
	pop	rbx
	ret	0
??D@YA?AVPoint3@@AEBV0@M@Z ENDP				; operator*
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\program files\autodesk\3ds max 2019 sdk\maxsdk\include\maxtypes.h
;	COMDAT ??0Class_ID@@QEAA@KK@Z
_TEXT	SEGMENT
this$ = 8
aa$ = 16
bb$ = 24
??0Class_ID@@QEAA@KK@Z PROC				; Class_ID::Class_ID, COMDAT

; 160  : 	Class_ID(ulong aa, ulong bb) { a = aa; b = bb; }

	mov	DWORD PTR [rcx], edx
	mov	rax, rcx
	mov	DWORD PTR [rcx+4], r8d
	ret	0
??0Class_ID@@QEAA@KK@Z ENDP				; Class_ID::Class_ID
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath
;	COMDAT ?pow@@YAMMM@Z
_TEXT	SEGMENT
_Xx$ = 8
_Yx$ = 16
?pow@@YAMMM@Z PROC					; pow, COMDAT

; 241  : 	return (_CSTD powf(_Xx, _Yx));

	jmp	powf
?pow@@YAMMM@Z ENDP					; pow
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath
;	COMDAT ?floor@@YAMM@Z
_TEXT	SEGMENT
_Xx$ = 8
?floor@@YAMM@Z PROC					; floor, COMDAT

; 123  : 	return (_CSTD floorf(_Xx));

	jmp	floorf
?floor@@YAMM@Z ENDP					; floor
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath
; File c:\program files (x86)\windows kits\10\include\10.0.17134.0\ucrt\corecrt_math.h
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath
;	COMDAT ?fabs@@YAMM@Z
_TEXT	SEGMENT
_Xx$ = 8
?fabs@@YAMM@Z PROC					; fabs, COMDAT
; File c:\program files (x86)\windows kits\10\include\10.0.17134.0\ucrt\corecrt_math.h

; 672  :             return (float)fabs(_X);

	vcvtss2sd xmm1, xmm0, xmm0
	vandpd	xmm1, xmm1, QWORD PTR __xmm@7fffffffffffffff7fffffffffffffff
	vcvtsd2ss xmm0, xmm1, xmm1
; File c:\program files (x86)\microsoft visual studio\2017\community\vc\tools\msvc\14.16.27023\include\cmath

; 114  : 	}

	ret	0
?fabs@@YAMM@Z ENDP					; fabs
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\program files (x86)\windows kits\10\include\10.0.17134.0\ucrt\corecrt_math.h
;	COMDAT fabsf
_TEXT	SEGMENT
_X$ = 8
fabsf	PROC						; COMDAT

; 672  :             return (float)fabs(_X);

	vcvtss2sd xmm1, xmm0, xmm0
	vandpd	xmm1, xmm1, QWORD PTR __xmm@7fffffffffffffff7fffffffffffffff
	vcvtsd2ss xmm0, xmm1, xmm1

; 673  :         }

	ret	0
fabsf	ENDP
_TEXT	ENDS
; Function compile flags: /Ogtp
; File g:\dropbox\github\berconmaps\src\fractal.cpp
;	COMDAT ?__empty_global_delete@@YAXPEAX_K@Z
_TEXT	SEGMENT
__formal$ = 8
__formal$ = 16
?__empty_global_delete@@YAXPEAX_K@Z PROC		; __empty_global_delete, COMDAT

	ret	0
?__empty_global_delete@@YAXPEAX_K@Z ENDP		; __empty_global_delete
_TEXT	ENDS
; Function compile flags: /Ogtp
; File g:\dropbox\github\berconmaps\src\fractal.cpp
;	COMDAT ?__empty_global_delete@@YAXPEAX@Z
_TEXT	SEGMENT
__formal$ = 8
?__empty_global_delete@@YAXPEAX@Z PROC			; __empty_global_delete, COMDAT

	ret	0
?__empty_global_delete@@YAXPEAX@Z ENDP			; __empty_global_delete
_TEXT	ENDS
; Function compile flags: /Ogtp
;	COMDAT ??_H@YAXPEAX_K1P6APEAX0@Z@Z
_TEXT	SEGMENT
__t$ = 48
__s$ = 56
__n$ = 64
__f$ = 72
??_H@YAXPEAX_K1P6APEAX0@Z@Z PROC			; `vector constructor iterator', COMDAT
$LN12:
	test	r8, r8
	je	SHORT $LN10@vector
	mov	QWORD PTR [rsp+8], rbx
	mov	QWORD PTR [rsp+16], rbp
	mov	QWORD PTR [rsp+24], rsi
	push	rdi
	sub	rsp, 32					; 00000020H
	mov	rsi, r9
	mov	rbx, r8
	mov	rbp, rdx
	mov	rdi, rcx
$LL2@vector:
	mov	rcx, rdi
	call	rsi
	add	rdi, rbp
	sub	rbx, 1
	jne	SHORT $LL2@vector
	mov	rbx, QWORD PTR [rsp+48]
	mov	rbp, QWORD PTR [rsp+56]
	mov	rsi, QWORD PTR [rsp+64]
	add	rsp, 32					; 00000020H
	pop	rdi
$LN10@vector:
	ret	0
??_H@YAXPEAX_K1P6APEAX0@Z@Z ENDP			; `vector constructor iterator'
_TEXT	ENDS
END
